import{C as De,S as Re,F as $e,f as Pe,o as ze,N as Xe,V as Fe,r as Ue,a as Ye,b as He,v as We,I as Ge,g as Ve,c as qe,_ as Je,d as Ke,u as Qe}from"./useConfirm.eeecc0c9.js";import{z as de,m,C as O,q as f,l as b,s as Ze,x as et,B as tt,y as ke,A as re,k as Te,F as Me,p as A,L as Ne,u as y,r as S,o as M,c as z,b as T,w as N,f as ot,i as W,d as u,h as G,t as nt,e as Ce,j as st}from"./app.36527150.js";import{_ as Le}from"./_plugin-vue_export-helper.cdc0426e.js";import{i as at}from"./index.147d99a1.js";/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const h={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},Ae={itemsToShow:{default:h.itemsToShow,type:Number},itemsToScroll:{default:h.itemsToScroll,type:Number},wrapAround:{default:h.wrapAround,type:Boolean},throttle:{default:h.throttle,type:Number},snapAlign:{default:h.snapAlign,validator(e){return["start","end","center","center-even","center-odd"].includes(e)}},transition:{default:h.transition,type:Number},breakpoints:{default:h.breakpoints,type:Object},autoplay:{default:h.autoplay,type:Number},pauseAutoplayOnHover:{default:h.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:h.mouseDrag,type:Boolean},touchDrag:{default:h.touchDrag,type:Boolean},dir:{default:h.dir,validator(e){return["rtl","ltr"].includes(e)}},i18n:{default:h.i18n,type:Object},settings:{default(){return{}},type:Object}};function rt({config:e,slidesCount:o}){const{snapAlign:t,wrapAround:i,itemsToShow:n=1}=e;if(i)return Math.max(o-1,0);let r;switch(t){case"start":r=o-n;break;case"end":r=o-1;break;case"center":case"center-odd":r=o-Math.ceil((n-.5)/2);break;case"center-even":r=o-Math.ceil(n/2);break;default:r=0;break}return Math.max(r,0)}function it({config:e,slidesCount:o}){const{wrapAround:t,snapAlign:i,itemsToShow:n=1}=e;let r=0;if(t||n>o)return r;switch(i){case"start":r=0;break;case"end":r=n-1;break;case"center":case"center-odd":r=Math.floor((n-1)/2);break;case"center-even":r=Math.floor((n-2)/2);break;default:r=0;break}return r}function le({val:e,max:o,min:t}){return o<t?e:Math.min(Math.max(e,t),o)}function lt({config:e,currentSlide:o,slidesCount:t}){const{snapAlign:i,wrapAround:n,itemsToShow:r=1}=e;let p=o;switch(i){case"center":case"center-odd":p-=(r-1)/2;break;case"center-even":p-=(r-2)/2;break;case"end":p-=r-1;break}return n?p:le({val:p,max:t-r,min:0})}function Oe(e){return e?e.reduce((o,t)=>{var i;return t.type===Me?[...o,...Oe(t.children)]:((i=t.type)===null||i===void 0?void 0:i.name)==="CarouselSlide"?[...o,t]:o},[]):[]}function V({val:e,max:o,min:t=0}){return e>o?V({val:e-(o+1),max:o,min:t}):e<t?V({val:e+(o+1),max:o,min:t}):e}function ut(e,o){let t;return o?function(...i){const n=this;t||(e.apply(n,i),t=!0,setTimeout(()=>t=!1,o))}:e}function ct(e,o){let t;return function(...i){t&&clearTimeout(t),t=setTimeout(()=>{e(...i),t=null},o)}}function Ie(e="",o={}){return Object.entries(o).reduce((t,[i,n])=>t.replace(`{${i}}`,String(n)),e)}var dt=de({name:"ARIA",setup(){const e=m("config",O(Object.assign({},h))),o=m("currentSlide",f(0)),t=m("slidesCount",f(0));return()=>b("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},Ie(e.i18n.itemXofY,{currentSlide:o.value+1,slidesCount:t.value}))}}),ft=de({name:"Carousel",props:Ae,setup(e,{slots:o,emit:t,expose:i}){var n;const r=f(null),p=f([]),l=f(0),c=f(0),a=O(Object.assign({},h));let g=Object.assign({},h),x;const d=f((n=e.modelValue)!==null&&n!==void 0?n:0),L=f(0),B=f(0),k=f(0),R=f(0);let D,q;A("config",a),A("slidesCount",c),A("currentSlide",d),A("maxSlide",k),A("minSlide",R),A("slideWidth",l);function J(){x=Object.assign({},e.breakpoints),g=Object.assign(Object.assign(Object.assign({},g),e),{i18n:Object.assign(Object.assign({},g.i18n),e.i18n),breakpoints:void 0}),fe(g)}function X(){if(!x||!Object.keys(x).length)return;const s=Object.keys(x).map(v=>Number(v)).sort((v,C)=>+C-+v);let _=Object.assign({},g);s.some(v=>{const C=window.matchMedia(`(min-width: ${v}px)`).matches;return C&&(_=Object.assign(Object.assign({},_),x[v])),C}),fe(_)}function fe(s){Object.entries(s).forEach(([_,v])=>a[_]=v)}const pe=ct(()=>{X(),$()},16);function $(){if(!r.value)return;const s=r.value.getBoundingClientRect();l.value=s.width/a.itemsToShow}function K(){c.value<=0||(B.value=Math.ceil((c.value-1)/2),k.value=rt({config:a,slidesCount:c.value}),R.value=it({config:a,slidesCount:c.value}),a.wrapAround||(d.value=le({val:d.value,max:k.value,min:R.value})))}Ze(()=>{et(()=>$()),setTimeout(()=>$(),1e3),X(),_e(),window.addEventListener("resize",pe,{passive:!0}),t("init")}),tt(()=>{q&&clearTimeout(q),D&&clearInterval(D),window.removeEventListener("resize",pe,{passive:!0})});let w=!1;const F={x:0,y:0},U={x:0,y:0},I=O({x:0,y:0}),Y=f(!1),Q=f(!1),je=()=>{Y.value=!0},Ee=()=>{Y.value=!1};function he(s){["INPUT","TEXTAREA","SELECT"].includes(s.target.tagName)||(w=s.type==="touchstart",w||s.preventDefault(),!(!w&&s.button!==0||j.value)&&(F.x=w?s.touches[0].clientX:s.clientX,F.y=w?s.touches[0].clientY:s.clientY,document.addEventListener(w?"touchmove":"mousemove",ve,!0),document.addEventListener(w?"touchend":"mouseup",me,!0)))}const ve=ut(s=>{Q.value=!0,U.x=w?s.touches[0].clientX:s.clientX,U.y=w?s.touches[0].clientY:s.clientY;const _=U.x-F.x,v=U.y-F.y;I.y=v,I.x=_},a.throttle);function me(){const s=a.dir==="rtl"?-1:1,_=Math.sign(I.x)*.4,v=Math.round(I.x/l.value+_)*s;if(v&&!w){const C=oe=>{oe.stopPropagation(),window.removeEventListener("click",C,!0)};window.addEventListener("click",C,!0)}E(d.value-v),I.x=0,I.y=0,Q.value=!1,document.removeEventListener(w?"touchmove":"mousemove",ve,!0),document.removeEventListener(w?"touchend":"mouseup",me,!0)}function _e(){!a.autoplay||a.autoplay<=0||(D=setInterval(()=>{a.pauseAutoplayOnHover&&Y.value||H()},a.autoplay))}function ge(){D&&(clearInterval(D),D=null),_e()}const j=f(!1);function E(s){const _=a.wrapAround?s:le({val:s,max:k.value,min:R.value});d.value===_||j.value||(t("slide-start",{slidingToIndex:s,currentSlideIndex:d.value,prevSlideIndex:L.value,slidesCount:c.value}),j.value=!0,L.value=d.value,d.value=_,q=setTimeout(()=>{if(a.wrapAround){const v=V({val:_,max:k.value,min:0});v!==d.value&&(d.value=v,t("loop",{currentSlideIndex:d.value,slidingToIndex:s}))}t("update:modelValue",d.value),t("slide-end",{currentSlideIndex:d.value,prevSlideIndex:L.value,slidesCount:c.value}),j.value=!1,ge()},a.transition))}function H(){E(d.value+a.itemsToScroll)}function Z(){E(d.value-a.itemsToScroll)}const be={slideTo:E,next:H,prev:Z};A("nav",be),A("isSliding",j);const xe=ke(()=>lt({config:a,currentSlide:d.value,slidesCount:c.value}));A("slidesToScroll",xe);const Be=ke(()=>{const s=a.dir==="rtl"?-1:1,_=xe.value*l.value*s;return{transform:`translateX(${I.x-_}px)`,transition:`${j.value?a.transition:0}ms`,margin:a.wrapAround?`0 -${c.value*l.value}px`:"",width:"100%"}});function we(){J(),X(),K(),$(),ge()}Object.keys(Ae).forEach(s=>{["modelValue"].includes(s)||re(()=>e[s],we)}),re(()=>e.modelValue,s=>{s!==d.value&&E(Number(s))}),re(c,K),t("before-init"),J();const ye={config:a,slidesCount:c,slideWidth:l,next:H,prev:Z,slideTo:E,currentSlide:d,maxSlide:k,minSlide:R,middleSlide:B};i({updateBreakpointsConfigs:X,updateSlidesData:K,updateSlideWidth:$,initDefaultConfigs:J,restartCarousel:we,slideTo:E,next:H,prev:Z,nav:be,data:ye});const ee=o.default||o.slides,te=o.addons,Se=O(ye);return()=>{const s=Oe(ee==null?void 0:ee(Se)),_=(te==null?void 0:te(Se))||[];s.forEach((ne,se)=>ne.props.index=se);let v=s;if(a.wrapAround){const ne=s.map((ae,P)=>Te(ae,{index:-s.length+P,isClone:!0,key:`clone-before-${P}`})),se=s.map((ae,P)=>Te(ae,{index:s.length+P,isClone:!0,key:`clone-after-${P}`}));v=[...ne,...s,...se]}p.value=s,c.value=Math.max(s.length,1);const C=b("ol",{class:"carousel__track",style:Be.value,onMousedownCapture:a.mouseDrag?he:null,onTouchstartPassiveCapture:a.touchDrag?he:null},v),oe=b("div",{class:"carousel__viewport"},C);return b("section",{ref:r,class:{carousel:!0,"is-sliding":j.value,"is-dragging":Q.value,"is-hover":Y.value,"carousel--rtl":a.dir==="rtl"},dir:a.dir,"aria-label":a.i18n.ariaGallery,tabindex:"0",onMouseenter:je,onMouseleave:Ee},[oe,_,b(dt)])}}}),ue;(function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"})(ue||(ue={}));const pt={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"};function ht(e){return e in ue}const ce=e=>{const o=m("config",O(Object.assign({},h))),t=String(e.name),i=`icon${t.charAt(0).toUpperCase()+t.slice(1)}`;if(!t||typeof t!="string"||!ht(t))return;const n=pt[t],r=b("path",{d:n}),p=o.i18n[i]||e.title||t,l=b("title",p);return b("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":p},[l,r])};ce.props={name:String,title:String};const vt=(e,{slots:o,attrs:t})=>{const{next:i,prev:n}=o||{},r=m("config",O(Object.assign({},h))),p=m("maxSlide",f(1)),l=m("minSlide",f(1)),c=m("currentSlide",f(1)),a=m("nav",{}),{dir:g,wrapAround:x,i18n:d}=r,L=g==="rtl",B=b("button",{type:"button",class:["carousel__prev",!x&&c.value<=l.value&&"carousel__prev--disabled",t==null?void 0:t.class],"aria-label":d.ariaPreviousSlide,onClick:a.prev},(n==null?void 0:n())||b(ce,{name:L?"arrowRight":"arrowLeft"})),k=b("button",{type:"button",class:["carousel__next",!x&&c.value>=p.value&&"carousel__next--disabled",t==null?void 0:t.class],"aria-label":d.ariaNextSlide,onClick:a.next},(i==null?void 0:i())||b(ce,{name:L?"arrowLeft":"arrowRight"}));return[B,k]},mt=()=>{const e=m("config",O(Object.assign({},h))),o=m("maxSlide",f(1)),t=m("minSlide",f(1)),i=m("currentSlide",f(1)),n=m("nav",{}),r=l=>V({val:i.value,max:o.value,min:0})===l,p=[];for(let l=t.value;l<o.value+1;l++){const c=b("button",{type:"button",class:{"carousel__pagination-button":!0,"carousel__pagination-button--active":r(l)},"aria-label":Ie(e.i18n.ariaNavigateToSlide,{slideNumber:l+1}),onClick:()=>n.slideTo(l)}),a=b("li",{class:"carousel__pagination-item",key:l},c);p.push(a)}return b("ol",{class:"carousel__pagination"},p)};var _t=de({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:o}){const t=m("config",O(Object.assign({},h))),i=m("currentSlide",f(0)),n=m("slidesToScroll",f(0)),r=m("isSliding",f(!1)),p=()=>e.index===i.value,l=()=>e.index===i.value-1,c=()=>e.index===i.value+1,a=()=>{const g=Math.floor(n.value),x=Math.ceil(n.value+t.itemsToShow-1);return e.index>=g&&e.index<=x};return()=>{var g;return b("li",{style:{width:`${100/t.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":a(),"carousel__slide--active":p(),"carousel__slide--prev":l(),"carousel__slide--next":c(),"carousel__slide--sliding":r.value},"aria-hidden":!a()},(g=o.default)===null||g===void 0?void 0:g.call(o))}}});const gt={components:{Link:Ne,Carousel:ft,Slide:_t,Pagination:mt,Navigation:vt},props:{},data(){return{category_share:y().props.value.category_share,url_gacha:"",url_dp:"",banners:[]}},mounted(){this.url_dp=route("main.dp")+this.category_share.cat_route_appendix,this.url_gacha=route("main")+this.category_share.cat_route_appendix,this.banners=y().props.value.banners},methods:{openInNewTab:e=>{window.open(e,"_blank").focus()}}},bt={key:0,class:"md:w-[760px] w-full bg-neutral-200 md:p-3 mx-auto"},xt={class:"w-full border md:rounded-md overflow-hidden"},wt=["src","onClick"];function yt(e,o,t,i,n,r){const p=S("slide"),l=S("pagination"),c=S("carousel");return n.banners&&n.banners.length>0?(M(),z("div",bt,[T(c,{"items-to-show":1.2,autoplay:6e3,wrapAround:n.banners.length>1,class:"w-full"},{addons:N(()=>[T(l)]),default:N(()=>[(M(!0),z(Me,null,ot(n.banners,a=>(M(),W(p,{class:"w-full px-2"},{default:N(()=>[u("div",xt,[u("img",{class:"w-full cursor-pointer h-full object-contain",src:a.image,onClick:g=>r.openInNewTab(a.link_url)},null,8,wt)])]),_:2},1024))),256))]),_:1},8,["items-to-show","wrapAround"])])):G("",!0)}const St=Le(gt,[["render",yt]]),{alert:ie}=Qe(),kt={components:{Category:De,Branch:St,Sidebar:Re,Footer:$e,TransitionRoot:Pe,TransitionChild:ze,Dialog:Xe,DialogOverlay:Fe,XMarkIcon:Ue,ChevronLeftIcon:Ye,Bars3Icon:He,Link:Ne,Menu:We,MenuButton:Ge,MenuItems:Ve,MenuItem:qe,Logo:Je,PlusIcon:Ke},data(){return{sidebarOpened:!1,page_title:"",user:{},point_value:0,dp_value:0,point_link:route("user.point"),hide_cat_bar:"",hide_back_btn:"",show_result_bg:"",show_notification:0}},props:{is_home:Boolean},mounted(){this.user=y().props.value.auth.user,this.user&&(this.point_value=this.user.point,this.dp_value=this.user.dp,this.user.type==1&&(this.point_link=route("test.user.point"))),this.gacha_button=y().props.value.gacha_button,this.hide_cat_bar=y().props.value.hide_cat_bar,this.hide_back_btn=y().props.value.hide_back_btn,this.show_result_bg=y().props.value.show_result_bg,this.show_notification=y().props.value.show_notification,y().props.value.flash.type=="notification"&&this.notification(y().props.value.flash.message)},computed:{flash(){return y().props.value.flash}},watch:{flash:function(e,o){e.type=="notification"&&this.notification(e.message),e.type=="dialog"&&ie(e.title,e.message),e.type=="dialog_success"&&ie(e.title,e.message,"success"),e.type=="dialog_error"&&ie(e.title,e.message,"error"),e.data&&e.data.user&&(this.point_value=e.data.user.point,this.dp_value=e.data.user.dp,this.user=y().props.value.auth.user)}},methods:{format_number(e){return String(e).replace(/(.)(?=(\d{3})+$)/g,"$1,")},notification(e){e&&at(e,{autoClose:3e3})},back(){window.history.back()}}},Tt={class:"flex min-h-screen text-neutral-700 text-base underline-offset-2 font-medium"},Ct={class:"fixed h-full right-0 z-40"},At={class:"flex flex-col relative h-full w-64 bg-gray-100 border-l border-neutral-200 ml-auto"},Mt={class:"flex-1 overflow-y-auto"},Nt={class:"w-full flex flex-col max-w-[760px] mx-auto shadow-md"},Lt={class:"flex-shrink-0 w-full max-w-[760px] sticky top-0 z-[15] bg-white"},Ot={class:"flex justify-center"},It={class:"md:w-[760px] w-full flex md:px-3 px-2 h-20 mx-auto justify-center border-x border-b border-neutral-200 gap-1 items-center z-10"},jt={class:"flex items-center flex-1"},Et={key:0,class:"flex-shrink-0 flex items-center gap-1 h-8 md:h-9 text-white text-sm"},Bt={class:"flex items-center h-full gap-2"},Dt=u("img",{src:"/images/icon_cash.png",class:"md:h-5 h-4 drop-shadow-sm"},null,-1),Rt={class:"font-semibold"},$t=u("span",{class:"text-xs opacity-90"},"PT",-1),Pt=u("span",{class:"border-l border-white/30 h-4"},null,-1),zt=u("span",{class:"text-xs"},"+",-1),Xt={class:"relative flex-shrink-0 flex items-center"},Ft=["src"],Ut={class:"w-full flex-1 relative bg-repeat flex flex-col"},Yt={class:"w-full flex flex-1 flex-col"},Ht={class:"relative flex-1"},Wt={class:"md:w-[760px] h-full flex flex-col w-full mx-auto bg-white"},Gt={class:"bg-no-repeat bg-cover bg-center flex-1"};function Vt(e,o,t,i,n,r){const p=S("XMarkIcon"),l=S("Sidebar"),c=S("TransitionChild"),a=S("TransitionRoot"),g=S("Logo"),x=S("Link"),d=S("Branch"),L=S("Category"),B=S("Footer");return M(),z("div",Tt,[T(a,{show:n.sidebarOpened,class:"h-full"},{default:N(()=>[T(c,{enter:"transition ease-in-out duration-200 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-200 transform","leave-from":"translate-x-0","leave-to":"translate-x-full",as:"template"},{default:N(()=>[u("div",Ct,[u("div",At,[u("button",{onClick:o[0]||(o[0]=k=>n.sidebarOpened=!1),class:"z-20 absolute top-3 md:right-4 right-2 flex items-center justify-center w-9 h-9 rounded-full focus:outline-none bg-gradient-to-r from-sky-500 to-sky-400 hover:from-sky-600 hover:to-sky-500 text-white shadow-sm transition-all duration-200",type:"button",value:"Close sidebar"},[T(p,{class:"h-5 w-5"})]),u("div",Mt,[T(l)])])])]),_:1}),T(c,{enter:"transition-opacity ease-linear duration-200","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-200","leave-from":"opacity-100","leave-to":"opacity-0",class:"fixed z-30 w-full h-full"},{default:N(()=>[u("div",{class:"bg-neutral-600 h-full bg-opacity-50",onClick:o[1]||(o[1]=k=>n.sidebarOpened=!1)})]),_:1})]),_:1},8,["show"]),u("div",Nt,[u("div",Lt,[u("div",Ot,[u("div",It,[u("div",jt,[T(g)]),this.user?(M(),z("div",Et,[T(x,{href:n.point_link,class:"text-center bg-gradient-to-r from-sky-500 to-sky-400 hover:from-sky-600 hover:to-sky-500 rounded-full px-4 h-full shadow-sm transition-all duration-200"},{default:N(()=>[u("div",Bt,[Dt,u("span",Rt,nt(r.format_number(n.point_value)),1),$t,Pt,zt])]),_:1},8,["href"])])):G("",!0),n.user?G("",!0):(M(),W(x,{key:1,href:e.route("register"),class:"rounded-full bg-gradient-to-r from-sky-500 to-sky-400 hover:from-sky-600 hover:to-sky-500 text-sm md:px-4 px-2 md:py-2 py-1.5 text-white shadow-sm transition-all duration-200",as:"button"},{default:N(()=>[Ce("\u65B0\u898F\u767B\u9332")]),_:1},8,["href"])),u("div",Xt,[this.user?(M(),z("div",{key:0,onClick:o[2]||(o[2]=k=>n.sidebarOpened=!0),class:"overflow-hidden cursor-pointer w-10 md:w-11 h-10 md:h-11 rounded-full border border-neutral-300"},[u("img",{src:n.user.avatar?"/images/avatars/"+n.user.avatar:"/images/icon_user.png",class:"w-full h-full object-cover"},null,8,Ft)])):(M(),W(x,{key:1,href:e.route("login"),class:"rounded-full bg-gradient-to-r from-neutral-700 to-neutral-600 hover:from-neutral-800 hover:to-neutral-700 text-sm md:px-4 px-2 md:py-2 py-1.5 text-white shadow-sm transition-all duration-200",as:"button"},{default:N(()=>[Ce("\u30ED\u30B0\u30A4\u30F3")]),_:1},8,["href"]))])])])]),u("main",Ut,[T(d),n.hide_cat_bar?G("",!0):(M(),W(L,{key:0})),u("div",Yt,[u("div",Ht,[u("div",Wt,[u("div",Gt,[st(e.$slots,"default")])])]),T(B)])])])])}const Zt=Le(kt,[["render",Vt]]);export{Zt as A};

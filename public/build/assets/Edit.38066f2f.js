import{L as E,H,E as N,G as P,r as x,o as l,c as i,b as u,w as p,F as y,d as t,n as w,I,J as f,K as g,t as d,h as m,M as V,e as _,f as k,a2 as z}from"./app.8a2c557b.js";import{A as B}from"./Admin.254ab498.js";import{B as A}from"./main.17fbfc7a.js";import{N as q,e as X,U as Y,o as G,f as J,r as K,u as Q}from"./useConfirm.609be1b6.js";import{i as W}from"./index.d109e275.js";import{_ as Z}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as $}from"./ExclamationTriangleIcon.9d5105f6.js";import"./isNativeReflectConstruct.8f2fcece.js";const{confirm:D,alert:L}=Q(),tt={components:{Link:E,Head:H,AppLayout:B,Dialog:q,DialogPanel:X,DialogTitle:Y,TransitionChild:G,TransitionRoot:J,ExclamationTriangleIcon:$,XMarkIcon:K,VueDatePicker:A},props:{errors:Object,gacha:Object,category_share:Object,product_last:Object,products:Object,productsLostSetting:Object,videos:Object,titles:Object,ranks:Object,lost_types:Object,video_names:Object,plans:Object,products_status:Object},data(){return{url:null,url1:null,url2:null,open:!1,sorting:"point_down",showProductsStatusModal:!1}},methods:{format_number(o){return String(o).replace(/(.)(?=(\d{3})+$)/g,"$1,")},addVideo(){if(this.video_names.length==0){L("\u767B\u9332\u3055\u308C\u305F\u52D5\u753B\u304C\u3042\u308A\u307E\u305B\u3093\u3002");return}this.form.videos.push({level:this.video_names[0],point:0})},deleteVideo(o){this.form.videos=this.form.videos.filter((e,r)=>r!=o)},destroy_product_last(o){D("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F","","error").then(e=>{e&&N.Inertia.delete(route("admin.gacha.product_last.destroy",{id:o}))})},modalProductLastOpen(){this.product_last.name?(this.form_last.last_name=this.product_last.name,this.form_last.last_point=this.product_last.point,this.form_last.last_rare=this.product_last.rare,this.form_last.last_image="",this.form_last.is_update=1,this.url2=this.product_last.image):(this.form_last.last_name="",this.form_last.last_point="",this.form_last.last_rare="",this.form_last.last_image="",this.form_last.is_update=0,this.url2=""),this.form_last.is_last=1,this.form_last.last_marks=0,this.open=!0},modalProductOpen(o){o?(this.form_last.last_id=o.id,this.form_last.last_name=o.name,this.form_last.last_point=o.point,this.form_last.last_rare=o.rare,this.form_last.last_marks=o.marks,this.form_last.last_order=o.order,this.form_last.last_image="",this.form_last.is_update=1,this.url2=o.image,this.form_last.rank=o.rank,this.form_last.last_lost_type=o.lost_type==1,this.form_last.cost_price=o.cost_price||0):(this.form_last.last_id="",this.form_last.last_name="",this.form_last.last_point="",this.form_last.last_rare="",this.form_last.last_marks=0,this.form_last.last_order=0,this.form_last.last_image="",this.form_last.is_update=0,this.url2="",this.form_last.rank=0,this.form_last.last_lost_type=!1,this.form_last.cost_price=0),this.form_last.is_last=0,this.open=!0},closeModal(){this.open=!1},submit_last(){if(this.form_last.is_last==1)this.$refs.photo2.files[0]&&(this.form_last.last_image=this.$refs.photo2.files[0]),this.form_last.post(route("admin.gacha.product_last.create"),{preserveScroll:!0,onFinish:()=>{}});else{if(this.$refs.photo2.files[0]&&(this.form_last.last_image=this.$refs.photo2.files[0]),this.form_last.last_order>0&&this.form_last.last_marks!=1){L("\u6392\u51FA\u9806\u5E8F\u306F\u70B9\u6570\u306E\u5024\u304C1\u306E\u5834\u5408\u306B\u306E\u307F\u8A2D\u5B9A\u3067\u304D\u307E\u3059\u3002");return}if(this.form_last.last_order>0&&this.form_last.last_order<=this.gacha.count){L("\u3053\u306E\u30AC\u30C1\u30E3\u306F\u3059\u3067\u306B "+this.gacha.count+" \u56DE\u56DE\u3055\u308C\u3066\u3044\u307E\u3059\u3002 "+this.gacha.count+" \u4EE5\u4E0A\u3092\u8A2D\u5B9A\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002");return}if(this.form_last.last_order>0&&this.products.data.find(o=>o.order==this.form_last.last_order&&o.id!=this.form_last.last_id)){L("\u3053\u306E\u6392\u51FA\u9806\u5E8F\u306F\u3059\u3067\u306B\u4F7F\u7528\u3057\u307E\u3057\u305F\u3002");return}this.form_last.post(route("admin.gacha.product.create"),{onFinish:()=>{},preserveScroll:!0})}},submit(){let o=this.form.count_card-this.form.count;var e=0;let r;for(r=0;r<this.form.lostProducts.length;r++)this.form.lostProducts[r].key&&(e=e+this.form.lostProducts[r].count);let n=0;for(r=0;r<this.products.data.length;r++)this.products.data[r].order==0&&(n=n+Math.max(0,this.products.data[r].marks));let c=e+n;c=parseFloat(c.toFixed(7));let a=c==o?"\u6B8B\u308A\u53E3\u6570 "+o+" = \u5F53\u305F\u308A\u30AB\u30FC\u30C9\u306E\u6B8B\u308A\u6570 "+n+" + \u30AB\u30FC\u30C9\u6307\u5B9A\u306E\u6B8B\u308A\u6570 "+e+`
\u4FDD\u5B58\u3057\u307E\u3059\u304B\uFF1F`:"\u6B8B\u308A\u53E3\u6570 "+o+" \u2260 \u5F53\u305F\u308A\u30AB\u30FC\u30C9\u306E\u6B8B\u308A\u6570 "+n+" + \u30AB\u30FC\u30C9\u6307\u5B9A\u306E\u6B8B\u308A\u6570 "+e+`
\u5927\u4E08\u592B\u3067\u3059\u304B\uFF1F`;D("",a,c==o?"success":"warning").then(b=>{b&&(this.$refs.photo&&(this.form.image=this.$refs.photo.files[0]),this.$refs.photo1&&(this.form.thumbnail=this.$refs.photo1.files[0]),P({...this.form.data(),lostProducts:this.form.lostProducts.map(v=>({...v,count:v.count}))}).post(route("admin.gacha.update"),{preserveScroll:!0}))})},previewImage(o){const e=o.target.files[0];this.url=URL.createObjectURL(e)},previewImage1(o){const e=o.target.files[0];this.url1=URL.createObjectURL(e)},previewImage2(o){const e=o.target.files[0];this.url2=URL.createObjectURL(e)},toPublic(o){this.form_to_public.to_status=o,this.form_to_public.post(route("admin.gacha.to_public"),{onFinish:()=>{},preserveScroll:!0})},gachaLimit(o){this.form_to_limit.to_status=o,this.form_to_limit.post(route("admin.gacha.gacha_limit"),{onFinish:()=>{},preserveScroll:!0})},addLostProduct(){let o=0,e;for(e=0;e<this.form.lostProducts.length;e++)o<this.form.lostProducts[e].key&&(o=this.form.lostProducts[e].key);o=o+1,this.form.lostProducts.push({id:0,point:0,count:0,key:o})},deleteLostProduct(o){let e;for(e=0;e<this.form.lostProducts.length;e++)if(o==this.form.lostProducts[e].key){this.form.lostProducts[e].key=0;break}},copyLink(o){navigator.clipboard.writeText(o).then(()=>{W("URL\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002",{autoClose:2e3})})}},setup(o){var b;const e=P({id:o.gacha.id,title:o.gacha.title,point:o.gacha.point,count_card:o.gacha.count_card,count:o.gacha.count,lost_product_type:(b=o.gacha.lost_product_type)!=null?b:"0",thumbnail:"",image:"",category_id:o.category_share.cat_id,lostProducts:[],spin_limit:o.gacha.spin_limit,ids:[],videos:o.videos,start_time:o.gacha.start_time,end_time:o.gacha.end_time,rank_limit:o.gacha.rank_limit,plan_limit:o.gacha.plan_limit});let r={last_id:"",last_name:"",last_point:"",last_rare:"",last_marks:"",last_image:"",last_order:"",is_last:0,gacha_id:o.gacha.id,is_update:0,rank:0,category_id:o.category_share.cat_id,last_lost_type:!1,cost_price:0};const n=P(r),c=P({gacha_id:o.gacha.id,to_status:1}),a=P({gacha_id:o.gacha.id,to_status:1});return{form:e,form_last:n,form_to_public:c,form_to_limit:a}},mounted(){this.url=this.gacha.image,this.url1=this.gacha.thumbnail,this.form.lostProducts=[];let o;for(o=0;o<this.productsLostSetting.length;o++){let e=this.productsLostSetting[o];this.form.lostProducts.push({id:e.id,count:e.count,point:e.point,key:e.id})}},computed:{sortedProducts(){let o=this.products.data;return this.sorting=="point_up"&&o.sort((e,r)=>e.point-r.point),this.sorting=="point_down"&&o.sort((e,r)=>r.point-e.point),this.sorting=="count_up"&&o.sort((e,r)=>e.marks-r.marks),this.sorting=="count_down"&&o.sort((e,r)=>r.marks-e.marks),o},point_rate(){let o=this.form.point*(this.form.count_card-this.form.count),e=0;return this.form.lostProducts.forEach(r=>{e+=r.point*r.count}),this.products.data.forEach(r=>{r.marks>0&&(e+=r.point*r.marks)}),(e*100/o).toFixed(2)},profit_amount(){let o=this.form.point,e=this.form.count_card-this.form.count,r=.965*(o*e),n=0;this.products.data.forEach(b=>{b.marks>0&&b.cost_price&&(n+=b.cost_price)});let c=0;this.products.data.forEach(b=>{b.marks>0&&(c+=b.marks)});let a=r-(n+c*800+5500);return Math.round(a)}}},et={class:"pt-6 md:px-6 px-4"},st={class:"flex flex-wrap justify-between mb-4 gap-2"},ot={class:"text-right"},rt=["disabled"],nt=["disabled"],lt=["disabled"],it=["disabled"],at=["disabled"],dt=["disabled"],ct={class:"mb-4"},ut=t("label",{for:"text1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u6D88\u8CBB\u30DD\u30A4\u30F3\u30C8\uFF08\u30C6\u30AD\u30B9\u30C8\uFF09"),t("span",{class:"text-red-500"},"*")],-1),mt={key:0,class:"text-red-500 text-sm mt-1"},_t={class:"mb-4"},ft=t("label",{for:"type",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[_("\u7A2E\u985E "),t("span",{class:"text-red-500"},"*")],-1),ht=t("option",{value:"0"},"\u7121\u671F\u9650\u30AC\u30C1\u30E3",-1),bt=t("option",{value:"1"},"\u767B\u9332\u5F8C24\u6642\u9593\u9650\u5B9A\u30AC\u30C1\u30E3",-1),pt=t("option",{value:"7"},"\u767B\u9332\u65701\u9031\u9593\u9650\u5B9A\u30AC\u30C1\u30E3",-1),gt=[ht,bt,pt],xt={class:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-2"},yt=t("label",{for:"text2",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u7DCF\u30AB\u30FC\u30C9\u6570\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),vt={key:0,class:"text-red-500 text-sm mt-1"},wt=t("label",{for:"text2",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u5F15\u3044\u305F\u56DE\u6570\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),kt={key:0,class:"text-red-500 text-sm mt-1"},Pt={class:"mb-4"},Ct=t("label",{for:"text1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u30AC\u30C1\u30E3\u5236\u9650\u56DE\u6570 "),t("span",{class:"text-red-500"},"*")],-1),Vt={key:0,class:"text-red-500 text-sm mt-1"},Lt={class:"mb-4"},Ut=t("label",{class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},"\u958B\u59CB\u6642\u523B",-1),jt={class:"w-full flex flex-wrap gap-3 items-center"},Mt={class:"mb-4"},Ot=t("label",{class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},"\u7D42\u4E86\u6642\u523B",-1),St={class:"w-full flex flex-wrap gap-3 items-center"},It={class:"mb-4"},Dt={class:"flex items-center justify-between"},Tt=t("label",{class:"block font-medium text-sm text-neutral-700 mb-1"},"\u5546\u54C1\u5728\u5EAB\u72B6\u6CC1",-1),Ft=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Rt={class:"fixed inset-0 z-10 overflow-y-auto"},Et={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Ht={class:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block"},Nt=t("span",{class:"sr-only"},"Close",-1),zt={class:"sm:flex sm:items-start"},Bt={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left w-full"},At={class:"mt-2"},qt={class:"overflow-x-auto"},Xt={class:"min-w-full divide-y divide-gray-200"},Yt=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"\u30DD\u30A4\u30F3\u30C8"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"\u5728\u5EAB\u6570"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"\u72B6\u6CC1")])],-1),Gt={class:"bg-white divide-y divide-gray-200"},Jt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Kt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Qt={class:"px-6 py-4 whitespace-nowrap"},Wt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},Zt={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},$t={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},te={class:"mb-4"},ee=t("label",{for:"cards",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},"\u30CF\u30BA\u30EC\u30AB\u30FC\u30C9\u767B\u9332\uFF08\u534A\u89D2\u6570\u5B57\uFF09",-1),se={key:0,class:"w-full flex flex-row items-center mb-3"},oe={class:"flex-1 flex items-center"},re={class:"flex-1 inline-block pr-1"},ne=["onUpdate:modelValue"],le=t("span",{class:"pl-1 pr-3"},"PT : ",-1),ie={class:"flex-1 inline-block pr-1"},ae=["onUpdate:modelValue"],de=t("span",{class:"px-2"},"\u679A",-1),ce={class:"w-10 shrink h-10"},ue=["onClick"],me={class:"text-center pt-2"},_e={class:"mb-4"},fe=t("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u30B5\u30E0\u30CD\u30A4\u30EB "),t("span",{class:"text-red-500"},"*")],-1),he={class:"text-center w-full"},be=["src"],pe={key:0,class:"text-red-500 text-sm mt-1"},ge={class:"mb-8"},xe=t("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u8A73\u7D30\u30DA\u30FC\u30B8\u753B\u50CF "),t("span",{class:"text-red-500"},"*")],-1),ye={class:"text-center w-full"},ve=["src"],we={key:0,class:"text-red-500 text-sm mt-1"},ke={class:"mb-8"},Pe=t("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u52D5\u753B\u8A2D\u5B9A"),t("span",{class:"text-red-500"},"*")],-1),Ce={class:"flex items-center gap-3 py-1"},Ve=["onUpdate:modelValue"],Le=["onUpdate:modelValue"],Ue=["value"],je={class:"w-10 shrink h-10"},Me=["onClick"],Oe={class:"text-center pt-2"},Se={class:"mb-8 text-center flex gap-2 justify-center sticky bottom-5"},Ie=t("button",{type:"submit",class:"inline-block items-center flex-1 max-w-60 py-2 bg-green-500 rounded-md font-semibold text-sm text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u4FDD\u5B58 ",-1),De={class:"hidden"},Te=t("h3",{class:"mb-2 font-bold"},"\u30E9\u30B9\u30C8\u30EF\u30F3\u8CDE \u767B\u9332",-1),Fe=t("hr",null,null,-1),Re={class:"mb-6 py-2 border-neutral-200 border-b flex flex-wrap justify-center items-center gap-2"},Ee={key:0,class:"flex-1 flex border-neutral-200 items-center"},He=["src"],Ne={class:"flex flex-col justify-evenly text-sm py-1 px-2"},ze={class:"text-red-500"},Be={class:"flex-1 flex flex-wrap gap-2 justify-center"},Ae={class:"flex flex-wrap justify-between mb-4 gap-2"},qe=t("h3",{class:"font-bold pt-1"},"\u5F53\u305F\u308A\u30AB\u30FC\u30C9 \u767B\u9332",-1),Xe={class:"flex items-center gap-2"},Ye=t("label",{for:"sorting",class:"block font-medium text-sm text-neutral-700 text-nowrap"},"\u30BD\u30FC\u30C8",-1),Ge=t("option",{value:"point_up"},"\u30DD\u30A4\u30F3\u30C8\u6607\u9806",-1),Je=t("option",{value:"point_down"},"\u30DD\u30A4\u30F3\u30C8\u964D\u9806",-1),Ke=t("option",{value:"count_up"},"\u30AB\u30FC\u30C9\u679A\u6570\u6607\u9806",-1),Qe=t("option",{value:"count_down"},"\u30AB\u30FC\u30C9\u679A\u6570\u964D\u9806",-1),We=[Ge,Je,Ke,Qe],Ze=t("hr",{class:"mb-2"},null,-1),$e={class:"mb-2 pb-2 border-neutral-200 border-b flex items-center justify-between flex-wrap"},ts={class:"flex border-neutral-200 items-center"},es=["src"],ss={class:"flex-1 inline-block text-sm py-1 px-2"},os={key:0},rs={class:"text-red-500"},ns={key:0},ls={key:0,class:"text-blue-600"},is={class:"text-center flex flex-wrap gap-2"},as=["onClick"],ds=["onClick"],cs={class:"flex justify-between text-center my-6 items-center gap-4"},us={class:"flex flex-col items-start gap-1"},ms={class:"text-green-600 font-semibold"},_s=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),fs={class:"fixed inset-0 z-10 overflow-y-auto"},hs={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},bs={class:"mb-4"},ps=t("label",{for:"text1-1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u540D\u524D"),t("span",{class:"text-red-500"},"*")],-1),gs={class:"text-red-500 text-sm mt-1"},xs={class:"mb-4"},ys=t("label",{for:"text1-2",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u5909\u63DB\u30DD\u30A4\u30F3\u30C8\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),vs={class:"text-red-500 text-sm mt-1"},ws={class:"mb-4 flex items-center gap-2"},ks=t("label",{for:"lost_type",class:"cursor-pointer text-sm py-1"}," \u767A\u9001\u5C02\u7528 ",-1),Ps={key:0,class:"mb-4"},Cs=t("label",{for:"cost_price",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u4ED5\u5165\u308C\u5024\uFF08\u534A\u89D2\u6570\u5B57\uFF09",-1),Vs={class:"text-red-500 text-sm mt-1"},Ls={key:1,class:"mb-4"},Us=t("label",{for:"last_rare",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u7A2E\u985E",-1),js=["value"],Ms={key:2,class:"mb-4"},Os=t("label",{for:"text1-4",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u679A\u6570\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),Ss={class:"text-red-500 text-sm mt-1"},Is={class:"mb-4"},Ds=t("label",{for:"file1-1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9 "),t("span",{class:"text-red-500"},"*")],-1),Ts={class:"text-center w-full"},Fs=["src"],Rs={class:"text-red-500 text-sm mt-1"},Es={class:"mb-6 text-center"},Hs=t("button",{type:"submit",class:"inline-block items-center px-8 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mr-2"}," \u4FDD\u5B58 ",-1);function Ns(o,e,r,n,c,a){const b=x("Head"),U=x("VueDatePicker"),v=x("TransitionChild"),j=x("XMarkIcon"),T=x("DialogTitle"),M=x("DialogPanel"),O=x("Dialog"),S=x("TransitionRoot"),F=x("Link"),R=x("AppLayout");return l(),i(y,null,[u(b,{title:"\u30AC\u30C1\u30E3 \u7DE8\u96C6"}),u(R,{closeModal:a.closeModal},{default:p(()=>[t("div",et,[t("div",st,[t("div",ot,[r.gacha.status==1?(l(),i("button",{key:0,type:"button",onClick:e[0]||(e[0]=s=>a.toPublic(0)),class:w([{"opacity-25":n.form_to_public.processing},"inline w-44 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"]),disabled:n.form_to_public.processing}," \u975E\u516C\u958B\u306B\u3059\u308B ",10,rt)):(l(),i("button",{key:1,type:"button",onClick:e[1]||(e[1]=s=>a.toPublic(1)),class:w([{"opacity-25":n.form_to_public.processing},"inline w-44 py-2.5 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150"]),disabled:n.form_to_public.processing}," \u516C\u958B\u306B\u3059\u308B ",10,nt))]),t("div",null,[r.gacha.gacha_limit==1?(l(),i("button",{key:0,type:"button",onClick:e[2]||(e[2]=s=>a.gachaLimit(0)),class:w([{"opacity-25":n.form_to_limit.processing},"inline w-44 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"]),disabled:n.form_to_limit.processing}," 1\u65E51\u56DE\u5236\u9650\u30AD\u30E3\u30F3\u30BB\u30EB ",10,lt)):(l(),i("button",{key:1,type:"button",onClick:e[3]||(e[3]=s=>a.gachaLimit(1)),class:w([{"opacity-25":n.form_to_limit.processing},"inline w-44 py-2.5 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150"]),disabled:n.form_to_limit.processing}," 1\u65E51\u56DE\u5236\u9650\u8A2D\u5B9A ",10,it))]),t("div",null,[r.gacha.gacha_limit==2?(l(),i("button",{key:0,type:"button",onClick:e[4]||(e[4]=s=>a.gachaLimit(0)),class:w([{"opacity-25":n.form_to_limit.processing},"inline w-52 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"]),disabled:n.form_to_limit.processing}," 1\u56DE\u307E\u305F\u306F10\u9023\u5236\u9650\u30AD\u30E3\u30F3\u30BB\u30EB ",10,at)):(l(),i("button",{key:1,type:"button",onClick:e[5]||(e[5]=s=>a.gachaLimit(2)),class:w([{"opacity-25":n.form_to_limit.processing},"inline w-52 py-2.5 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150"]),disabled:n.form_to_limit.processing}," 1\u56DE\u307E\u305F\u306F10\u9023\u5236\u9650\u8A2D\u5B9A ",10,dt))])]),t("form",{onSubmit:e[21]||(e[21]=I(s=>a.submit(),["prevent"]))},[t("div",ct,[ut,f(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>n.form.point=s),id:"text1",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[g,n.form.point]]),r.errors.point?(l(),i("div",mt,d(r.errors.point),1)):m("",!0)]),t("div",_t,[ft,f(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>n.form.lost_product_type=s),id:"type",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},gt,512),[[V,n.form.lost_product_type]])]),t("div",xt,[t("div",null,[yt,f(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>n.form.count_card=s),id:"text2",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[g,n.form.count_card]]),r.errors.count_card?(l(),i("div",vt,d(r.errors.count_card),1)):m("",!0)]),t("div",null,[wt,f(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>n.form.count=s),id:"text2",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[g,n.form.count]]),r.errors.count?(l(),i("div",kt,d(r.errors.count),1)):m("",!0)])]),t("div",Pt,[Ct,f(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>n.form.spin_limit=s),id:"text1",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[g,n.form.spin_limit]]),r.errors.spin_limit?(l(),i("div",Vt,d(r.errors.spin_limit),1)):m("",!0)]),t("div",Lt,[Ut,t("div",jt,[u(U,{modelValue:n.form.start_time,"onUpdate:modelValue":e[11]||(e[11]=s=>n.form.start_time=s),format:"Y-MM-dd HH:mm",class:"flex-1"},null,8,["modelValue"])])]),t("div",Mt,[Ot,t("div",St,[u(U,{modelValue:n.form.end_time,"onUpdate:modelValue":e[12]||(e[12]=s=>n.form.end_time=s),format:"Y-MM-dd HH:mm",class:"flex-1"},null,8,["modelValue"])])]),t("div",It,[t("div",Dt,[Tt,t("button",{type:"button",onClick:e[13]||(e[13]=s=>c.showProductsStatusModal=!0),class:"inline-block items-center px-4 py-2 bg-blue-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 active:bg-blue-700 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150"}," \u5728\u5EAB\u78BA\u8A8D ")])]),u(S,{as:"template",show:c.showProductsStatusModal},{default:p(()=>[u(O,{as:"div",class:"relative z-50",onClose:e[16]||(e[16]=s=>c.showProductsStatusModal=!1)},{default:p(()=>[u(v,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>[Ft]),_:1}),t("div",Rt,[t("div",Et,[u(v,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:p(()=>[u(M,{class:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:p(()=>[t("div",Ht,[t("button",{type:"button",class:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:e[14]||(e[14]=s=>c.showProductsStatusModal=!1)},[Nt,u(j,{class:"h-6 w-6","aria-hidden":"true"})])]),t("div",zt,[t("div",Bt,[u(T,{as:"h3",class:"text-base font-semibold leading-6 text-gray-900 mb-4"},{default:p(()=>[_(" \u5546\u54C1\u5728\u5EAB\u72B6\u6CC1 ")]),_:1}),t("div",At,[t("div",qt,[t("table",Xt,[Yt,t("tbody",Gt,[(l(!0),i(y,null,k(r.products_status,s=>(l(),i("tr",{key:s.point},[t("td",Jt,d(a.format_number(s.point))+" PT ",1),t("td",Kt,d(a.format_number(s.count)),1),t("td",Qt,[s.count>0?(l(),i("span",Wt," \u5728\u5EAB\u3042\u308A ")):(l(),i("span",Zt," \u5728\u5EAB\u5207\u308C "))])]))),128))])])])])])]),t("div",$t,[t("button",{type:"button",onClick:e[15]||(e[15]=s=>c.showProductsStatusModal=!1),class:"inline-block items-center px-8 py-2.5 bg-blue-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 active:bg-blue-700 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150"}," \u9589\u3058\u308B ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),t("div",te,[ee,(l(!0),i(y,null,k(n.form.lostProducts,(s,C)=>(l(),i(y,null,[s.key?(l(),i("div",se,[t("div",oe,[t("div",re,[f(t("input",{"onUpdate:modelValue":h=>s.point=h,type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5909\u63DBpt"},null,8,ne),[[g,s.point]])]),le,t("div",ie,[f(t("input",{"onUpdate:modelValue":h=>s.count=h,type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u679A\u6570"},null,8,ae),[[g,s.count]])]),de]),t("div",ce,[t("button",{type:"button",onClick:h=>a.deleteLostProduct(s.key),class:"h-full w-10 text-center"},[u(j,{class:"h-5 w-5 inline-block"})],8,ue)])])):m("",!0)],64))),256)),t("div",me,[t("button",{type:"button",onClick:e[17]||(e[17]=s=>a.addLostProduct()),class:"inline-block items-center max-w-60 w-full mx-auto py-2.5 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 mr-2"}," \u30AB\u30FC\u30C9\u8FFD\u52A0 ")])]),t("div",_e,[fe,t("div",he,[c.url1?(l(),i("img",{key:0,src:c.url1,class:"inline-block mt-4 h-52"},null,8,be)):m("",!0)]),t("input",{onChange:e[18]||(e[18]=(...s)=>a.previewImage1&&a.previewImage1(...s)),ref:"photo1",id:"file1",type:"file",class:"w-full"},null,544),r.errors.thumbnail?(l(),i("div",pe,d(r.errors.thumbnail),1)):m("",!0)]),t("div",ge,[xe,t("div",ye,[c.url?(l(),i("img",{key:0,src:c.url,class:"inline-block mt-4 h-52"},null,8,ve)):m("",!0)]),t("input",{onChange:e[19]||(e[19]=(...s)=>a.previewImage&&a.previewImage(...s)),ref:"photo",id:"file1",type:"file",class:"w-full"},null,544),r.errors.image?(l(),i("div",we,d(r.errors.image),1)):m("",!0)]),t("div",ke,[Pe,(l(!0),i(y,null,k(n.form.videos,(s,C)=>(l(),i("div",Ce,[f(t("input",{type:"number",class:"h-9 w-32 border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300","onUpdate:modelValue":h=>s.point=h},null,8,Ve),[[g,s.point]]),_("\u4EE5\u4E0A\xA0\xA0\xA0=\xA0\xA0\xA0 "),f(t("select",{"onUpdate:modelValue":h=>s.level=h,class:"w-32 border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},[(l(!0),i(y,null,k(r.video_names,(h,zs)=>(l(),i("option",{value:h},d(h),9,Ue))),256))],8,Le),[[V,s.level]]),t("div",je,[t("button",{type:"button",onClick:h=>a.deleteVideo(C),class:"h-full w-10 text-center"},[u(j,{class:"h-5 w-5 inline-block"})],8,Me)])]))),256)),t("div",Oe,[t("button",{type:"button",onClick:e[20]||(e[20]=s=>a.addVideo()),class:"inline-block items-center px-8 py-2 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 mr-2"}," \u8FFD\u52A0 ")])]),t("div",Se,[Ie,u(F,{href:o.route("admin.gacha",{cat_id:r.gacha.category_id}),as:"button",class:"inline-block items-center flex-1 max-w-60 py-2 bg-rose-500 rounded-md font-semibold text-sm text-white uppercase tracking-widest hover:bg-rose-700 active:bg-rose-700 focus:outline-none focus:shadow-outline-green transition ease-in-out duration-150"},{default:p(()=>[_(" \u623B\u308B ")]),_:1},8,["href"])])],32),t("div",De,[Te,Fe,t("div",Re,[r.product_last.id?(l(),i("div",Ee,[t("img",{src:r.product_last.image,class:"w-20 h-20 inline-block object-contain"},null,8,He),t("div",Ne,[t("div",null,d(r.product_last.name),1),t("div",null,d(r.product_last.rare),1),t("div",ze,d(r.product_last.point)+"pt",1)])])):m("",!0),t("div",Be,[r.product_last.name?(l(),i("button",{key:0,type:"button",onClick:e[22]||(e[22]=s=>a.modalProductLastOpen()),class:"items-center flex-1 min-w-16 py-2 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u7DE8\u96C6 ")):(l(),i("button",{key:1,type:"button",onClick:e[23]||(e[23]=s=>a.modalProductLastOpen()),class:"items-center flex-1 max-w-60 py-2 my-2 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u8FFD\u52A0 ")),r.product_last.name?(l(),i("button",{key:2,onClick:e[24]||(e[24]=s=>a.destroy_product_last(r.product_last.id)),type:"button",class:"items-center flex-1 min-w-16 py-2 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u524A\u9664 ")):m("",!0)])])]),t("div",Ae,[qe,t("div",Xe,[Ye,f(t("select",{"onUpdate:modelValue":e[25]||(e[25]=s=>c.sorting=s),id:"sorting",class:"text-sm w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},We,512),[[V,c.sorting]])])]),Ze,(l(!0),i(y,null,k(a.sortedProducts,(s,C)=>(l(),i("div",$e,[t("div",ts,[t("img",{src:s.image,class:"w-20 h-20 inline-block object-contain"},null,8,es),t("div",ss,[t("div",null,"ID: "+d(s.id)+" "+d(s.rank?`(${s.rank}\u7B49)`:""),1),t("div",null,d(s.name),1),t("div",null,d(s.rare),1),t("div",null,[_(d(s.marks)+" ",1),s.order?(l(),i("span",os,"("+d(s.order)+"\u756A)",1)):m("",!0),_("\xA0 ")]),t("div",rs,[_(d(a.format_number(s.point))+"pt ",1),s.lost_type=="1"?(l(),i("span",ns," (\u767A\u9001\u5C02\u7528)")):m("",!0)]),s.cost_price?(l(),i("div",ls," \u4ED5\u5165\u308C\u5024: "+d(a.format_number(s.cost_price))+"\u5186 ",1)):m("",!0)])]),t("div",is,[t("button",{type:"button",onClick:h=>a.modalProductOpen(s),class:"inline-block items-center flex-1 min-w-16 py-2 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u7DE8\u96C6 ",8,as),t("button",{type:"button",onClick:h=>a.destroy_product_last(s.id),class:"inline-block items-center flex-1 min-w-16 py-2 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u524A\u9664 ",8,ds)])]))),256)),t("div",cs,[t("div",us,[t("span",null,"\u9084\u5143\u7387: "+d(a.point_rate)+"%",1),t("span",ms,"\u5229\u76CA\u984D: "+d(a.format_number(a.profit_amount))+"\u5186",1)]),t("button",{type:"button",onClick:e[26]||(e[26]=s=>a.modalProductOpen(0)),class:"inline-block items-center flex-1 max-w-48 py-2 bg-cyan-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-cyan-700 active:bg-cyan-700 focus:outline-none focus:border-cyan-700 focus:shadow-outline-cyan transition ease-in-out duration-150"}," \u8FFD\u52A0 ")])]),t("template",null,[u(S,{as:"template",show:c.open},{default:p(()=>[u(O,{as:"div",class:"relative z-20",onClose:e[36]||(e[36]=s=>c.open=!1)},{default:p(()=>[u(v,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>[_s]),_:1}),t("div",fs,[t("div",hs,[u(v,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:p(()=>[u(M,{class:"p-3 relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:p(()=>[t("form",{onSubmit:e[35]||(e[35]=I(s=>a.submit_last(),["prevent"]))},[t("div",bs,[ps,f(t("input",{"onUpdate:modelValue":e[27]||(e[27]=s=>n.form_last.last_name=s),id:"text1-1",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",required:""},null,512),[[g,n.form_last.last_name]]),t("div",gs,d(r.errors.last_name),1)]),t("div",xs,[ys,f(t("input",{"onUpdate:modelValue":e[28]||(e[28]=s=>n.form_last.last_point=s),id:"text1-2",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",required:""},null,512),[[g,n.form_last.last_point]]),t("div",vs,d(r.errors.last_point),1)]),t("div",ws,[f(t("input",{id:"lost_type","onUpdate:modelValue":e[29]||(e[29]=s=>n.form_last.last_lost_type=s),type:"checkbox"},null,512),[[z,n.form_last.last_lost_type]]),ks]),n.form_last.is_last==0?(l(),i("div",Ps,[Cs,f(t("input",{"onUpdate:modelValue":e[30]||(e[30]=s=>n.form_last.cost_price=s),id:"cost_price",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[g,n.form_last.cost_price]]),t("div",Vs,d(r.errors.cost_price),1)])):m("",!0),n.form_last.is_last==0?(l(),i("div",Ls,[Us,f(t("select",{"onUpdate:modelValue":e[31]||(e[31]=s=>n.form_last.last_rare=s),id:"last_rare",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(l(!0),i(y,null,k(r.lost_types,(s,C)=>(l(),i("option",{value:s},d(s),9,js))),256))],512),[[V,n.form_last.last_rare]])])):m("",!0),n.form_last.is_last==0?(l(),i("div",Ms,[Os,f(t("input",{"onUpdate:modelValue":e[32]||(e[32]=s=>n.form_last.last_marks=s),id:"text1-4",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",required:""},null,512),[[g,n.form_last.last_marks]]),t("div",Ss,d(r.errors.last_marks),1)])):m("",!0),t("div",Is,[Ds,t("div",Ts,[c.url2?(l(),i("img",{key:0,src:c.url2,class:"inline-block mt-4 h-24"},null,8,Fs)):m("",!0)]),t("input",{onChange:e[33]||(e[33]=(...s)=>a.previewImage2&&a.previewImage2(...s)),ref:"photo2",id:"file1-1",type:"file",class:"w-full"},null,544),t("div",Rs,d(r.errors.last_image),1)]),t("div",Es,[Hs,t("button",{type:"button",onClick:e[34]||(e[34]=s=>c.open=!1),class:"inline-block items-center px-8 py-2.5 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u30AD\u30E3\u30F3\u30BB\u30EB ")])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1},8,["closeModal"])],64)}const Qs=Z(tt,[["render",Ns]]);export{Qs as default};

import{H as M,E as H,G as j,r as f,o as c,c as u,b as m,w as _,F as x,d as e,f as S,t as l,Z as U,I as W,J as b,K as p,h as g,n as V,e as a}from"./app.0cc3647d.js";import{A as D}from"./Admin.0efb722a.js";import{N as I,e as P,U as O,o as R,f as q,u as N}from"./useConfirm.ee4d26af.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";const{confirm:A}=N(),F={components:{Head:M,AppLayout:D,Dialog:I,DialogPanel:P,DialogTitle:O,TransitionChild:R,TransitionRoot:q},props:{errors:Object,ranks:Object},data(){return{url1:null,url2:null,open:!1}},methods:{destroy_rank(o){A("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F","","error").then(s=>{s&&H.Inertia.delete(route("admin.rank.destroy",{id:o}))})},modalOpen(o){o?(this.form.id=o.id,this.form.rank=o.rank,this.form.title=o.title,this.form.limit=o.limit,this.form.bonus=o.bonus,this.form.pt_rate=o.pt_rate,this.form.dp_rate=o.dp_rate,this.form.image="",this.form.badge="",this.url1=o.image,this.url2=o.badge):(this.form.id=0,this.form.rank="",this.form.title="",this.form.limit="",this.form.bonus="",this.form.pt_rate=0,this.form.dp_rate=1,this.form.image="",this.form.badge="",this.url1="",this.url2=""),this.open=!0},closeModal(){this.open=!1},submit(){this.$refs.photo1.files[0]&&(this.form.image=this.$refs.photo1.files[0]),this.$refs.photo2.files[0]&&(this.form.badge=this.$refs.photo2.files[0]),this.form.post(route("admin.rank.store"),{preserveScroll:!0,onFinish:()=>{}})},previewImage1(o){const s=o.target.files[0];this.url1=URL.createObjectURL(s)},previewImage2(o){const s=o.target.files[0];this.url2=URL.createObjectURL(s)},pt_rate_string(o){return o.rank==1?'<span class="text-[1.5em]">\u2014</span>':o.limit<0||o.pt_rate<=0?'<span class="text-[1.2em]">???</span>':`${o.pt_rate}%\u4ED8\u4E0E<br/>(\u8CFC\u5165\u6642PT\u306E)`},format_number(o){return String(o).replace(/(.)(?=(\d{3})+$)/g,"$1,")},bonus_pt_string(o){return o.rank==1?'<span class="text-[1.5em]">\u2014</span>':o.limit<0||o.pt_rate<=0?'<span class="text-[1.2em]">???</span>':`${this.format_number(o.bonus)}PT`}},setup(o){return{form:j({id:"",rank:"",title:"",limit:"",bonus:"",pt_rate:"",dp_rate:"",image:"",badge:""})}},mounted(){}},B={class:"pt-4 px-5 py-2"},E=e("h1",{class:"mb-2 text-lg font-bold"},"\u30E9\u30F3\u30AF\u7279\u5178\u8A2D\u5B9A",-1),G=e("hr",{class:"mb-2"},null,-1),J={class:"flex flex-wrap border-neutral-200 items-center gap-[0.8em]"},K={class:"w-[1em]"},Z=["src"],Q={class:"flex-1 flex bg-neutral-200 rounded-lg justify-center relative"},X=["src"],Y={class:"absolute top-0 bottom-0 left-0 right-0 flex items-center"},$={class:"text-center text-[0.9em] text-black font-black w-[30%] h-full flex flex-col items-center justify-center relative"},ee=["innerHTML"],te=["innerHTML"],se=e("div",{class:"h-full w-[0.3em] bg-white"},null,-1),oe={class:"text-center text-[0.8em] font-bold text-white w-[40%] h-full flex items-center justify-center"},re={class:"text-center flex gap-[0.4em] items-end h-full"},ne={class:"relative flex justify-center text-[1em]"},le={class:"absolute leading-[1.2em]"},ie=e("div",{class:"h-full w-[0.3em] bg-white"},null,-1),ae={class:"w-[30%] flex divide-x-[0.3em] divide-white h-full relative"},de={class:"text-center text-[0.9em] text-black font-black w-[40%] h-full flex items-center justify-center"},ce=["innerHTML"],ue=["innerHTML"],me={class:"text-center text-[0.9em] text-black font-black w-[60%] h-full flex items-center justify-center relative"},fe=["innerHTML"],_e=["innerHTML"],be={class:"flex items-center justify-between"},pe={key:0,class:"text-sm"},he={key:1},xe={class:"my-2 text-center"},ge=["onClick"],ve=["onClick"],ye={class:"text-center mb-6"},we=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),ke={class:"fixed inset-0 z-20 overflow-y-auto"},Te={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},Ce={class:"mb-4"},Le=e("label",{for:"rank",class:"block font-medium text-sm text-neutral-700 mb-1"},[a("\u30E9\u30F3\u30AF\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),e("span",{class:"text-red-500"},"*")],-1),Me={class:"text-red-500 text-sm mt-1"},He={class:"mb-4"},je=e("label",{for:"title",class:"block font-medium text-sm text-neutral-700 mb-1"},[a("\u30E9\u30F3\u30AF\u540D"),e("span",{class:"text-red-500"},"*")],-1),Se={class:"text-red-500 text-sm mt-1"},Ue={class:"mb-4"},We=e("label",{for:"limit",class:"block font-medium text-sm text-neutral-700 mb-1"},[a("\u6D88\u8CBB\u57FA\u6E96\u91CF\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),e("span",{class:"text-red-500"},"*")],-1),Ve={class:"text-red-500 text-sm mt-1"},De={class:"mb-4"},Ie=e("label",{for:"bonus",class:"block font-medium text-sm text-neutral-700 mb-1"},[a("\u30DC\u30FC\u30CA\u30B9PT\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),e("span",{class:"text-red-500"},"*")],-1),Pe={class:"text-red-500 text-sm mt-1"},Oe={class:"mb-4"},Re=e("label",{for:"pt_rate",class:"block font-medium text-sm text-neutral-700 mb-1"},[a("\u8CFC\u5165\u6642PT\u4ED8\u4E0E\u7279\u5178 (%)"),e("span",{class:"text-red-500"},"*")],-1),qe={class:"text-red-500 text-sm mt-1"},Ne={class:"mb-4"},ze=e("label",{for:"dp_rate",class:"block font-medium text-sm text-neutral-700 mb-1"},[a("EP\u4ED8\u4E0E\u7387 (%)"),e("span",{class:"text-red-500"},"*")],-1),Ae={class:"text-red-500 text-sm mt-1"},Fe={class:"mb-4"},Be=e("label",{for:"file1-1",class:"block font-medium text-sm text-neutral-700 mb-1"},[a("\u30E9\u30F3\u30AF\u30D0\u30FC\u753B\u50CF "),e("span",{class:"text-red-500"},"*")],-1),Ee={class:"text-center w-full"},Ge=["src"],Je={class:"text-red-500 text-sm mt-1"},Ke={class:"mb-4"},Ze=e("label",{for:"file1-1",class:"block font-medium text-sm text-neutral-700 mb-1"},[a("\u30E9\u30F3\u30AF\u30AB\u30FC\u30C9\u753B\u50CF "),e("span",{class:"text-red-500"},"*")],-1),Qe={class:"text-center w-full"},Xe=["src"],Ye={class:"text-red-500 text-sm mt-1"},$e={class:"mb-6 text-center"},et=["disabled"];function tt(o,s,i,r,d,n){const v=f("Head"),h=f("TransitionChild"),y=f("DialogPanel"),w=f("Dialog"),k=f("TransitionRoot"),T=f("AppLayout");return c(),u(x,null,[m(v,{title:"\u30E9\u30F3\u30AF\u7279\u5178\u8A2D\u5B9A"}),m(T,{closeModal:n.closeModal},{default:_(()=>[e("div",B,[E,G,(c(!0),u(x,null,S(i.ranks,(t,C)=>(c(),u("div",{class:"my-2 text-[0.6em] md:text-[1em] sm:text-[0.8em]",key:C},[e("div",J,[e("div",K,l(t.rank),1),e("img",{src:t.badge,class:"h-[8.5vw] max-h-[80px] inline-block object-contain"},null,8,Z),e("div",Q,[e("img",{src:t.image,class:"h-[8.5vw] max-h-[80px]"},null,8,X),e("div",Y,[e("div",$,[e("span",{class:"leading-[1.4em]",innerHTML:n.pt_rate_string(t),style:{WebkitTextStrokeColor:"white",WebkitTextStrokeWidth:"2px"}},null,8,ee),e("span",{class:"absolute leading-[1.4em]",innerHTML:n.pt_rate_string(t)},null,8,te)]),se,e("div",oe,[e("div",re,[e("div",ne,[e("span",{class:"leading-[1.2em]",style:U({WebkitTextStrokeColor:"black",WebkitTextStrokeWidth:"2.5px"})},"( "+l(t.title)+" )",5),e("span",le,"( "+l(t.title)+" )",1)])])]),ie,e("div",ae,[e("div",de,[e("span",{innerHTML:t.dp_rate>0?t.dp_rate+"%":"<span class='text-[1.2em]'>???</span>",style:{WebkitTextStrokeColor:"white",WebkitTextStrokeWidth:"2px"}},null,8,ce),e("span",{class:"absolute",innerHTML:t.dp_rate>0?t.dp_rate+"%":"<span class='text-[1.2em]'>???</span>"},null,8,ue)]),e("div",me,[e("span",{class:"leading-[1.4em]",innerHTML:n.bonus_pt_string(t),style:{WebkitTextStrokeColor:"white",WebkitTextStrokeWidth:"2px"}},null,8,fe),e("span",{class:"absolute leading-[1.4em]",innerHTML:n.bonus_pt_string(t)},null,8,_e)])])])])]),e("div",be,[t.limit>0?(c(),u("span",pe,"\u6D88\u8CBB\u57FA\u6E96\u91CF: "+l(n.format_number(t.limit))+" PT",1)):(c(),u("span",he)),e("div",xe,[e("button",{type:"button",onClick:L=>n.modalOpen(t),class:"inline-block items-center px-6 py-2 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mr-2"}," \u7DE8\u96C6 ",8,ge),e("button",{type:"button",onClick:L=>n.destroy_rank(t.id),class:"inline-block items-center px-6 py-2 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u524A\u9664 ",8,ve)])])]))),128)),e("div",ye,[e("button",{type:"button",onClick:s[0]||(s[0]=t=>n.modalOpen(0)),class:"inline-block items-center px-10 py-2.5 bg-cyan-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-cyan-700 active:bg-cyan-700 focus:outline-none focus:border-cyan-700 focus:shadow-outline-cyan transition ease-in-out duration-150 mr-2"}," \u8FFD\u52A0 ")])]),e("template",null,[m(k,{as:"template",show:d.open},{default:_(()=>[m(w,{as:"div",class:"relative z-20",onClose:s[11]||(s[11]=t=>d.open=!1)},{default:_(()=>[m(h,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>[we]),_:1}),e("div",ke,[e("div",Te,[m(h,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:_(()=>[m(y,{class:"p-3 relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:_(()=>[e("form",{onSubmit:s[10]||(s[10]=W(t=>n.submit(),["prevent"]))},[e("div",Ce,[Le,b(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>r.form.rank=t),id:"rank",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.rank]]),e("div",Me,l(i.errors.rank),1)]),e("div",He,[je,b(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>r.form.title=t),id:"title",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.title]]),e("div",Se,l(i.errors.title),1)]),e("div",Ue,[We,b(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>r.form.limit=t),id:"limit",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.limit]]),e("div",Ve,l(i.errors.limit),1)]),e("div",De,[Ie,b(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>r.form.bonus=t),id:"bonus",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.bonus]]),e("div",Pe,l(i.errors.bonus),1)]),e("div",Oe,[Re,b(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>r.form.pt_rate=t),id:"pt_rate",type:"number",min:"0",step:"0.01",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.pt_rate]]),e("div",qe,l(i.errors.pt_rate),1)]),e("div",Ne,[ze,b(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>r.form.dp_rate=t),id:"dp_rate",type:"number",min:"0",step:"0.01",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.dp_rate]]),e("div",Ae,l(i.errors.dp_rate),1)]),e("div",Fe,[Be,e("div",Ee,[d.url1?(c(),u("img",{key:0,src:d.url1,class:"inline-block mt-4 h-24"},null,8,Ge)):g("",!0)]),e("input",{onChange:s[7]||(s[7]=(...t)=>n.previewImage1&&n.previewImage1(...t)),ref:"photo1",id:"file1-1",type:"file",class:"w-full"},null,544),e("div",Je,l(i.errors.image),1)]),e("div",Ke,[Ze,e("div",Qe,[d.url2?(c(),u("img",{key:0,src:d.url2,class:"inline-block mt-4 h-24"},null,8,Xe)):g("",!0)]),e("input",{onChange:s[8]||(s[8]=(...t)=>n.previewImage2&&n.previewImage2(...t)),ref:"photo2",id:"file1-1",type:"file",class:"w-full"},null,544),e("div",Ye,l(i.errors.badge),1)]),e("div",$e,[e("button",{type:"submit",class:V([{"opacity-25":r.form.processing},"inline-block items-center px-8 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mr-2"]),disabled:r.form.processing}," \u4FDD\u5B58 ",10,et),e("button",{type:"button",onClick:s[9]||(s[9]=t=>d.open=!1),class:"inline-block items-center px-8 py-2.5 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u30AD\u30E3\u30F3\u30BB\u30EB ")])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1},8,["closeModal"])],64)}const lt=z(F,[["render",tt]]);export{lt as default};

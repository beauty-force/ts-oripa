import{H as b,L as v,G as y,r as u,o as n,c as a,b as _,w,F as f,d as t,I as C,f as j,h as d,t as m,J as p,a1 as k,n as A}from"./app.624bb9fb.js";import{A as L}from"./UserLayout.0980f043.js";import{u as V}from"./useConfirm.06b7c344.js";import{_ as B}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as H}from"./PlayIcon.ca23bd13.js";import"./index.5ba01e3a.js";const{confirm:z}=V(),F={components:{Head:b,AppLayout:L,Link:v,PlayIcon:H},props:{errors:Object,auth:Object,category_share:Object,products:Object,token:String,show_review:Boolean},data(){return{isCheckAll:!1}},setup(e){let o={},i;for(i=0;i<e.products.data.length;i++)o["id"+e.products.data[i].id]=!1;return{form:y({checks:o,token:e.token})}},methods:{format_number(e){return String(e).replace(/(.)(?=(\d{3})+$)/g,"$1,")},submit(){let e,o=0;var i=0;for(e=0;e<this.products.data.length;e++)this.form.checks["id"+this.products.data[e].id]&&(o++,i=i+parseInt(this.products.data[e].point));let r="";i>0?r="\u9078\u629E\u3057\u305F"+o+"\u70B9\u306E\u5546\u54C1\u3092"+i+"pt\u3068\u4EA4\u63DB\u3057\u307E\u3059\u3002":r="\u5168\u3066\u306E\u5546\u54C1\u304C\u300C\u7372\u5F97\u6E08\u307F\u5546\u54C1\u4E00\u89A7\u300D\u306B\u79FB\u52D5\u3057\u307E\u3059\u3002",z(r).then(c=>{c&&this.form.post(route("user.gacha.result.exchange"),{onFinish:()=>{}})})},checkall(){let e;for(e=0;e<this.products.data.length;e++)this.form.checks["id"+this.products.data[e].id]=this.isCheckAll},checkone(){this.isCheckAll=this.products.data.length>0,this.products.data.forEach(e=>{this.form.checks["id"+e.id]!=!0&&(this.isCheckAll=!1)})}}},O={class:"md:w-[760px] m-auto items-center px-6 h-full flex flex-col justify-center"},S=t("div",{class:"sticky top-20 z-20 w-full pt-4 pb-3 bg-white"},[t("h1",{class:"text-lg md:text-xl font-bold bg-gradient-to-r from-sky-500 to-sky-400 bg-clip-text text-transparent text-center"}," \u30AC\u30C1\u30E3 \u2013 \u7D50\u679C ")],-1),I={class:"mb-4 grid grid-cols-2 md:grid-cols-4 gap-3"},M={class:"relative group"},N=["for"],U={class:"transform transition-all duration-200 hover:scale-[1.02]"},D={class:"relative aspect-square mb-2"},E=["src"],P=["src","alt"],q={key:1,class:"absolute inset-0 z-0 flex items-center justify-center"},G=t("img",{src:"/images/sparking_star.png",class:"w-full h-full object-cover animate-pulse"},null,-1),J=[G],R={class:"absolute top-2 right-2"},T={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-sky-500 to-sky-600 text-white shadow-sm"},K={key:2,class:"absolute top-2 left-2"},Q=["id","onUpdate:modelValue"],W={class:"px-1"},X={class:"text-neutral-800 font-medium truncate text-center text-sm"},Y={class:"text-neutral-500 text-xs truncate text-center mt-0.5"},Z={key:0,class:"text-xs text-orange-500 text-center"},$={class:"sticky bottom-0 z-10 py-4 mt-6 bg-white"},tt={class:"text-center mb-3"},et={class:"cursor-pointer flex items-center justify-center"},st=t("span",{class:"ml-2 text-sm font-medium text-neutral-700"},"\u5168\u3066\u3092\u9078\u629E\u3059\u308B",-1),ot={class:"text-center"},it=["disabled"],rt=t("span",{class:"text-base"},"\u9078\u629E\u3057\u305F\u5546\u54C1\u3092\u30DD\u30A4\u30F3\u30C8\u306B\u5909\u63DB",-1),nt=t("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1),at=[rt,nt],lt=t("div",{class:"pb-6 pt-3 text-center text-xs text-neutral-500"}," \u203B\u9078\u629E\u3055\u308C\u306A\u304B\u3063\u305F\u5546\u54C1\u306F\u300C\u7372\u5F97\u6E08\u307F \u5546\u54C1\u4E00\u89A7\u300D\u306B\u79FB\u52D5\u3055\u308C\u307E\u3059\u3002 ",-1);function ct(e,o,i,r,c,l){const x=u("Head"),g=u("AppLayout");return n(),a(f,null,[_(x,{title:"\u30AC\u30C1\u30E3\u2013\u7D50\u679C"}),_(g,{is_home:!0},{default:w(()=>[t("div",O,[S,t("form",{onSubmit:o[3]||(o[3]=C(s=>l.submit(),["prevent"]))},[t("div",I,[(n(!0),a(f,null,j(i.products.data,(s,dt)=>(n(),a("div",M,[t("label",{for:"checkbox"+s.id,class:"block cursor-pointer"},[t("div",U,[t("div",D,[t("img",{class:"w-full h-full object-cover rounded-lg shadow-sm",src:s.image},null,8,E),s.badge?(n(),a("img",{key:0,src:s.badge,class:"absolute bottom-2 right-2 w-[25%]",alt:s.badge},null,8,P)):d("",!0),s.is_last?(n(),a("div",q,J)):d("",!0),t("div",R,[t("div",T,m(l.format_number(s.point))+" PT ",1)]),s.status==1?(n(),a("div",K,[p(t("input",{id:"checkbox"+s.id,type:"checkbox","onUpdate:modelValue":h=>r.form.checks["id"+s.id]=h,onChange:o[0]||(o[0]=(...h)=>l.checkone&&l.checkone(...h)),class:"h-4 w-4 cursor-pointer rounded border-sky-400 text-sky-500 shadow-sm focus:ring-sky-500"},null,40,Q),[[k,r.form.checks["id"+s.id]]])])):d("",!0)]),t("div",W,[t("div",X,m(s.name),1),t("div",Y,m(s.rare),1),s.status==3?(n(),a("div",Z," \u767A\u9001\u4F9D\u983C\u6E08\u307F ")):d("",!0)])])],8,N)]))),256))]),t("div",$,[t("div",tt,[t("label",et,[p(t("input",{type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=s=>c.isCheckAll=s),onChange:o[2]||(o[2]=s=>l.checkall()),class:"h-4 w-4 rounded border-neutral-300 text-sky-500 shadow-sm focus:ring-sky-500"},null,544),[[k,c.isCheckAll]]),st])]),t("div",ot,[t("button",{type:"submit",class:A([{"opacity-50":r.form.processing},"inline-flex items-center px-6 py-2.5 rounded-lg font-medium text-white bg-gradient-to-r from-sky-500 to-sky-600 hover:from-sky-600 hover:to-sky-700 transform hover:scale-105 transition-all duration-200 shadow-md hover:shadow-lg"]),disabled:r.form.processing},at,10,it)])]),lt],32)])]),_:1})],64)}const kt=B(F,[["render",ct]]);export{kt as default};

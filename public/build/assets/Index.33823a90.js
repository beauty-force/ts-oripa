import{H as k,L as C,G as u,r as c,o as n,c as d,b as i,w as m,F as h,d as e,e as _,t as p,J as f,K as L,a2 as S,f as V}from"./app.f7242b2d.js";import{A as j}from"./Admin.f9509daf.js";import{P as N}from"./Pagination.0d9fbc6c.js";import{G as P}from"./GachaCard.f3346cc3.js";import{u as A}from"./useConfirm.ce82610c.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";import"./ChevronRightIcon.b0a9abee.js";import"./EllipsisHorizontalIcon.79b1d0fd.js";import"./GachaButtons.9e058e4d.js";import"./PlayIcon.80973e8d.js";const{confirm:x}=A(),B={components:{Head:k,AppLayout:j,Link:C,GachaCard:P,Pagination:N},props:{errors:Object,users:Object,search_cond:Object,total:Number,total_point:Number},mounted(){},methods:{search(){this.form_search.get(route("admin.users"))},updateStatus(s,o){o==0?x("\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u30D6\u30ED\u30C3\u30AF\u3057\u307E\u3059\u304B\uFF1F","\u7372\u5F97\u3057\u305F\u5546\u54C1\u3068\u767A\u9001\u4F9D\u983C\u4E2D\u306E\u5546\u54C1\u306F\u5168\u3066\u56DE\u53CE\u3055\u308C\u307E\u3059\u3002","warning").then(r=>{r&&u({id:s,status:o}).post(route("admin.users.update"))}):x("\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u627F\u8A8D\u3057\u307E\u3059\u304B\uFF1F").then(r=>{r&&u({id:s,status:o}).post(route("admin.users.update"))})},format_number(s){return s==null?0:String(s).replace(/(.)(?=(\d{3})+$)/g,"$1,")}},setup(s){return{form_search:u(s.search_cond)}}},F={class:"md:px-4 px-2"},G={class:"border-b w-full p-2 my-2 font-semibold flex justify-between flex-wrap items-center gap-3"},O=e("h3",null,"\u30E6\u30FC\u30B6\u30FC\u7BA1\u7406",-1),T={class:"font-normal flex gap-2"},D={class:"font-bold"},M=["href"],U={class:"w-full flex flex-col gap-4 mb-8"},E={class:"w-full flex justify-between gap-4"},I={class:"flex-1 flex flex-wrap gap-2"},J=e("option",{value:"amount"},"\u8CFC\u5165\u91D1\u984D",-1),K=e("option",{value:"rank"},"\u30E9\u30F3\u30AF",-1),q=e("option",{value:"status"},"\u72B6\u614B",-1),z=[J,K,q],Q={class:"flex gap-2"},R={class:"w-full overflow-auto"},W={class:"min-w-full"},X=e("thead",null,[e("tr",{class:"border-b border-collapse border-sky-100 whitespace-nowrap"},[e("th",{class:"text-center py-2"},"\u8A73\u7D30"),e("th",{class:"text-center py-2"},"\u30E6\u30FC\u30B6\u30FC\u540D"),e("th",{class:"text-center py-2"},"\u8CFC\u5165\u91D1\u984D"),e("th",{class:"text-center py-2"},"\u30E9\u30F3\u30AF"),e("th",{class:"text-center py-2"})])],-1),Y={class:"text-sm"},Z={class:"border border-sky-100 divide-x-2 divide-sky-50 border-collapse"},$={class:"text-center py-2 px-1"},ee={class:"text-center py-2 px-1 text-red-600 text-nowrap"},te={class:"text-center py-2 px-1 max-w-full overflow-hidden whitespace-nowrap text-ellipsis"},oe={class:"text-center py-2 px-1 max-w-full overflow-hidden whitespace-nowrap text-ellipsis"},se={class:"text-center py-1 whitespace-nowrap"},re=["onClick"],ae=["onClick"];function ne(s,o,r,l,de,a){const b=c("Head"),y=c("Link"),w=c("Pagination"),g=c("AppLayout");return n(),d(h,null,[i(b,{title:"\u30E6\u30FC\u30B6\u30FC\u7BA1\u7406"}),i(g,null,{default:m(()=>[e("div",F,[e("div",G,[O,e("span",T,[_("\u5408\u8A08\u30DD\u30A4\u30F3\u30C8: "),e("span",D,p(a.format_number(r.total_point)),1),_("PT")]),e("a",{href:s.route("admin.users.export"),class:"rounded-md border bg-green-600 text-white px-4 py-1 hover:bg-green-700 text-sm"},"CSV\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",8,M)]),e("div",U,[e("div",E,[e("div",I,[f(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>l.form_search.keyword=t),type:"text",class:"text-sm flex-1 md:min-w-96 border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u30E6\u30FC\u30B6\u30FC\u540D\u3001\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3001\u96FB\u8A71\u756A\u53F7\u3092\u5165\u529B\u3057\u307E\u3059\u3002"},null,512),[[L,l.form_search.keyword]]),f(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>l.form_search.order_by=t),id:"order_by",class:"bg-white/90 flex-1 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-400"},z,512),[[S,l.form_search.order_by]])]),e("div",Q,[e("button",{type:"button",onClick:o[2]||(o[2]=(...t)=>a.search&&a.search(...t)),class:"rounded-md border bg-neutral-600 text-white px-4 py-1"},"\u691C\u7D22")])]),e("div",R,[e("table",W,[X,e("tbody",Y,[(n(!0),d(h,null,V(r.users,t=>(n(),d("tr",Z,[e("td",$,[i(y,{class:"px-2 py-0.5 border border-sky-300 rounded-lg hover:bg-sky-300 text-nowrap",href:s.route("admin.users.detail",{id:t.id})},{default:m(()=>[_("\u8A73\u7D30")]),_:2},1032,["href"])]),e("td",ee,p(t.name),1),e("td",te,p(a.format_number(t.amount)),1),e("td",oe,p(t.rank),1),e("td",se,[t.status?(n(),d("button",{key:0,onClick:v=>a.updateStatus(t.id,0),class:"px-2 py-1 rounded-md border text-rose-500 hover:bg-rose-100"},"\u524A\u9664",8,re)):(n(),d("button",{key:1,onClick:v=>a.updateStatus(t.id,1),class:"px-2 py-1 rounded-md border text-sky-500 hover:bg-sky-100"},"\u627F\u8A8D",8,ae))])]))),256))])])]),i(w,{search_cond:r.search_cond,route_name:"admin.users",total:r.total},null,8,["search_cond","total"])])])]),_:1})],64)}const be=H(B,[["render",ne]]);export{be as default};

import{L as M,H as U,E as H,G as _,r as d,o as i,c as l,b as c,w as f,F as p,d as e,I as g,h as V,J as b,K as v,f as B,t as x,n as I,e as y}from"./app.0cc3647d.js";import{A}from"./Admin.0efb722a.js";import{V as z,r as D,a as R}from"./ArrowLongUpIcon.8f4ae7bd.js";import{u as N}from"./useConfirm.ee4d26af.js";import{_ as S}from"./_plugin-vue_export-helper.cdc0426e.js";const{confirm:F}=N(),O={components:{Link:M,Head:U,AppLayout:A,draggable:z,ArrowLongUpIcon:D,ArrowLongDownIcon:R},props:{errors:Object,auth:Object,banners:Object},methods:{log(){},submit(){this.new_form.file=this.$refs.file.files[0],this.new_form.link_url=this.banner.link_url,this.new_form.post(route("admin.banner.create"),{onSuccess:()=>this.new_form.reset(),preserveScroll:!0})},destroy(t){F("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F","","error").then(o=>{o&&H.Inertia.delete(route("admin.banner.destroy",t),{preserveScroll:!0})})},previewImage(t,o){if(t.target.files.length>0){const a=t.target.files[0];o==-1?this.banner.image=URL.createObjectURL(a):this.banners[o].image=URL.createObjectURL(a)}},levelUp(t){let o;for(o=1;o<this.banners.length&&this.banners[o].id!=t;o++);o<this.banners.length&&this.arrayMove(o,o-1)},arrayMove(t,o){this.banners.splice(o,0,this.banners.splice(t,1)[0])},levelDown(t){let o;for(o=0;o<this.banners.length-1&&this.banners[o].id!=t;o++);o<this.banners.length-1&&this.arrayMove(o,o+1)},submit_order(){this.order_form.files=this.$refs.photo.map(t=>t.files[0]),this.order_form.banners=this.banners,this.order_form.post(route("admin.banner.store"),{preserveScroll:!0,onFinish:()=>{this.order_form.reset(),this.banner.image=""}})}},data(){return{open:!0,dragging:!1,banner:{link_url:"",image:""}}},setup(t){const o=_({file:null,link_url:null}),a=_({files:[],banners:[]});return{new_form:o,order_form:a}},mounted(){}},G={class:"max-w-6xl mx-auto pt-6 px-4 sm:px-6 lg:px-8"},E=e("div",{class:"mb-8"},[e("h1",{class:"text-xl font-bold text-gray-900 mb-2"},"\u30D0\u30CA\u30FC\u8A2D\u5B9A"),e("p",{class:"text-gray-600"},"\u30D0\u30CA\u30FC\u753B\u50CF\u3068URL\u3092\u7BA1\u7406\u3067\u304D\u307E\u3059")],-1),J={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8"},P=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"\u65B0\u898F\u30D0\u30CA\u30FC\u8FFD\u52A0")],-1),T={class:"p-6"},K=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"\u30D0\u30CA\u30FC\u753B\u50CF",-1),q={class:"flex items-center gap-4 flex-col md:flex-row"},Q={class:"w-full md:flex-1"},W={class:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-gray-400 transition-colors"},X={class:"space-y-1 text-center"},Y=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Z={class:"flex text-sm text-gray-600"},$={class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},ee=e("span",null,"\u753B\u50CF\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",-1),oe=e("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 10MB",-1),te={key:0,class:"flex-shrink-0 w-full md:w-2/3"},se=["src"],re=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"\u30D0\u30CA\u30FCURL",-1),ne=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),y(" \u30D0\u30CA\u30FC\u3092\u8FFD\u52A0 ")])],-1),ie={class:"bg-white rounded-lg shadow-sm border border-gray-200"},le=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"\u65E2\u5B58\u30D0\u30CA\u30FC\u7DE8\u96C6"),e("p",{class:"text-sm text-gray-600 mt-1"},"\u30C9\u30E9\u30C3\u30B0&\u30C9\u30ED\u30C3\u30D7\u3067\u9806\u5E8F\u3092\u5909\u66F4\u3067\u304D\u307E\u3059")],-1),ae={class:"p-6"},de={class:"flex items-center justify-between p-4 border-b border-gray-100 bg-gray-50"},ce={class:"drag-handle flex items-center cursor-move"},he=e("div",{class:"w-5 h-5 text-gray-400 hover:text-gray-600 transition-colors mr-2"},[e("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M8 6h8v2H8V6zm0 5h8v2H8v-2zm0 5h8v2H8v-2z"})])],-1),ue={class:"text-sm font-medium text-gray-600"},ge={class:"flex items-center space-x-1"},me=["onClick"],_e=["onClick"],fe=["onClick"],pe=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),be=[pe],ve={class:"p-4 space-y-4"},xe={key:0,class:"w-full relative group"},ye=["src"],we={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 rounded-lg flex items-center justify-center"},ke={class:"cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity duration-200"},Ce={class:"bg-white rounded-lg px-4 py-2 shadow-lg flex items-center space-x-2"},Le=e("svg",{class:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),je=e("span",{class:"text-sm font-medium text-gray-700"},"\u753B\u50CF\u3092\u5909\u66F4",-1),Me=["onChange"],Ue={key:1,class:"flex flex-col items-center justify-center h-48 border-2 border-gray-300 border-dashed rounded-lg bg-gray-50"},He=e("svg",{class:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),Ve={class:"cursor-pointer text-sm text-indigo-600 hover:text-indigo-500 font-medium"},Be=e("span",null,"\u753B\u50CF\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",-1),Ie=["onChange"],Ae=["onUpdate:modelValue"],ze={class:"mt-6 flex justify-center"},De=["disabled"],Re={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},Ne=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),Se=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),Fe=[Ne,Se],Oe={key:1,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ge=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1),Ee=[Ge];function Je(t,o,a,h,u,r){const w=d("Head"),k=d("ArrowLongUpIcon"),C=d("ArrowLongDownIcon"),L=d("draggable"),j=d("AppLayout");return i(),l(p,null,[c(w,{title:"\u30D0\u30CA\u30FC\u8A2D\u5B9A"}),c(j,null,{default:f(()=>[e("div",G,[E,e("div",J,[P,e("div",T,[e("form",{onSubmit:o[2]||(o[2]=g(s=>r.submit(),["prevent"])),class:"space-y-6"},[e("div",null,[K,e("div",q,[e("div",Q,[e("div",W,[e("div",X,[Y,e("div",Z,[e("label",$,[ee,e("input",{onChange:o[0]||(o[0]=s=>r.previewImage(s,-1)),ref:"file",type:"file",class:"sr-only",accept:"image/*"},null,544)])]),oe])])]),u.banner.image!=""?(i(),l("div",te,[e("img",{src:u.banner.image,class:"w-full h-auto object-cover rounded-lg border border-gray-200"},null,8,se)])):V("",!0)])]),e("div",null,[re,b(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>u.banner.link_url=s),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"https://example.com"},null,512),[[v,u.banner.link_url]])]),ne],32)])]),e("div",ie,[le,e("div",ae,[c(L,{class:"grid grid-cols-1 lg:grid-cols-2 gap-6",list:a.banners,onChange:r.log,handle:".drag-handle"},{default:f(()=>[(i(!0),l(p,null,B(a.banners,(s,m)=>(i(),l("div",{class:"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden",key:s.id},[e("div",de,[e("div",ce,[he,e("span",ue,"\u30D0\u30CA\u30FC #"+x(m+1),1)]),e("div",ge,[e("button",{onClick:g(n=>r.levelUp(s.id),["prevent"]),class:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"\u4E0A\u306B\u79FB\u52D5"},[c(k,{class:"w-4 h-4"})],8,me),e("button",{onClick:g(n=>r.levelDown(s.id),["prevent"]),class:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"\u4E0B\u306B\u79FB\u52D5"},[c(C,{class:"w-4 h-4"})],8,_e),e("button",{onClick:n=>r.destroy(s.id),class:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"\u524A\u9664"},be,8,fe)])]),e("div",ve,[e("div",null,[s.image!=""?(i(),l("div",xe,[e("img",{src:s.image,class:"w-full h-auto max-h-32 object-contain rounded-lg border border-gray-200 bg-gray-50"},null,8,ye),e("div",we,[e("label",ke,[e("div",Ce,[Le,je,e("input",{onChange:n=>r.previewImage(n,m),ref_for:!0,ref:"photo",type:"file",class:"sr-only",accept:"image/*"},null,40,Me)])])])])):(i(),l("div",Ue,[He,e("label",Ve,[Be,e("input",{onChange:n=>r.previewImage(n,m),ref_for:!0,ref:"photo",type:"file",class:"sr-only",accept:"image/*"},null,40,Ie)])]))]),e("div",null,[b(e("input",{"onUpdate:modelValue":n=>s.link_url=n,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"\u30D0\u30CA\u30FCURL\u3092\u5165\u529B..."},null,8,Ae),[[v,s.link_url]])])])]))),128))]),_:1},8,["list","onChange"]),e("div",ze,[e("button",{onClick:o[3]||(o[3]=g(s=>r.submit_order(),["prevent"])),class:I([{"opacity-50 cursor-not-allowed":h.order_form.processing},"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors"]),disabled:h.order_form.processing},[h.order_form.processing?(i(),l("svg",Re,Fe)):(i(),l("svg",Oe,Ee)),y(" "+x(h.order_form.processing?"\u4FDD\u5B58\u4E2D...":"\u5909\u66F4\u3092\u4FDD\u5B58"),1)],10,De)])])])])]),_:1})],64)}const We=S(O,[["render",Je]]);export{We as default};

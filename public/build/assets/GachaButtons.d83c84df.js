import{L as g,u,G as p,o as r,c as n,d as t,n as c,t as d,h,a6 as _}from"./app.9a79c010.js";import{u as f}from"./useConfirm.926b63c4.js";import{_ as m}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as v}from"./PlayIcon.36b3b17b.js";const{confirm:x}=f(),y={components:{Link:g,PlayIcon:v},props:{gacha:Object},data(){return{category_share:u().props.value.category_share,str_gacha10:"",str_gacha50:"",str_gacha100:"",str_gacha500:"",point_10gacha:0,point_100gacha:0,point_500gacha:0,processing:!1}},methods:{format_number(s){return String(s).replace(/(.)(?=(\d{3})+$)/g,"$1,")},clickgacha(s){let o=this.gacha.point*s;x("\u30AC\u30C1\u30E3\u3092\u5F15\u304D\u307E\u3059\u304B\uFF1F",s+"\u56DE\u5206\u306E\u30DD\u30A4\u30F3\u30C8\u3092"+o.toLocaleString()+"PT\u6D88\u8CBB\u3057\u307E\u3059\u3002").then(e=>{e&&this.start_gacha(s)})},start_gacha(s){this.processing=!0,!this.url_edit&&p({id:this.gacha.id,number:s,code:this.gacha.code}).post(route("user.gacha.start_post"),{onFinish:()=>{this.processing=!1}})}},mounted(){this.gacha.count_rest<=10?(this.str_gacha10="\u5168\u3066",this.point_10gacha=this.gacha.count_rest*this.gacha.point):(this.str_gacha10="10\u9023",this.point_10gacha=10*this.gacha.point),this.gacha.count_rest<=100?(this.str_gacha100="\u5168\u3066",this.point_100gacha=this.gacha.count_rest*this.gacha.point):(this.str_gacha100="100\u9023",this.point_100gacha=100*this.gacha.point),this.gacha.count_rest<=500?(this.str_gacha500="\u5168\u3066",this.point_500gacha=this.gacha.count_rest*this.gacha.point):(this.str_gacha500="500\u9023",this.point_500gacha=500*this.gacha.point),this.url_edit||(this.url_card=route("user.gacha",this.gacha.id)+this.category_share.cat_route_appendix)}},w={key:0,class:"w-full mx-auto flex flex-col justify-center gap-2"},k={class:"flex font-[mplus2] gap-2"},b=["disabled"],C=_('<div class="absolute inset-0 bg-gradient-to-r from-white/0 via-white/10 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"></div><div class="relative px-6 py-2 flex items-center justify-center gap-2"><span class="font-bold text-lg">1\u56DE</span><span class="font-medium text-sm">\u30AC\u30C1\u30E3</span><div class="absolute right-3 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg></div></div>',2),j=[C],B=["disabled"],G=t("div",{class:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/10 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"},null,-1),S={class:"relative px-6 py-2 flex items-center justify-center gap-2"},H={class:"font-bold text-lg"},L=t("span",{class:"font-medium text-sm"},"\u30AC\u30C1\u30E3",-1),M=t("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1),N={class:"flex font-[mplus2] gap-1 flex-wrap"},P=["disabled"],V=t("div",{class:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/10 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"},null,-1),F={class:"relative px-6 py-2 flex items-center justify-center gap-2"},z={class:"font-bold text-lg"},D=t("span",{class:"font-medium text-sm"},"\u30AC\u30C1\u30E3",-1),E=t("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1);function I(s,o,e,O,a,i){return e.gacha.count_rest>0?(r(),n("div",w,[t("div",k,[t("button",{onClick:o[0]||(o[0]=l=>i.clickgacha(1)),class:c([{"opacity-50 cursor-not-allowed":a.processing},"flex-1 relative group overflow-hidden rounded-xl bg-gradient-to-br from-sky-400 to-sky-600 hover:from-sky-500 hover:to-sky-700 text-white transition-all duration-300 shadow-sm hover:shadow-md"]),disabled:a.processing},j,10,b),e.gacha.count_rest>1&&e.gacha.gacha_limit==0?(r(),n("button",{key:0,onClick:o[1]||(o[1]=l=>i.clickgacha(10)),class:c([{"opacity-50 cursor-not-allowed":a.processing},"flex-1 relative group overflow-hidden rounded-xl bg-gradient-to-br from-rose-400 to-rose-600 hover:from-rose-500 hover:to-rose-700 text-white transition-all duration-300 shadow-sm hover:shadow-md"]),disabled:a.processing},[G,t("div",S,[t("span",H,d(a.str_gacha10),1),L,M])],10,B)):h("",!0)]),t("div",N,[e.gacha.count_rest>10&&e.gacha.gacha_limit==0?(r(),n("button",{key:0,onClick:o[2]||(o[2]=l=>i.clickgacha(100)),class:c([{"opacity-50 cursor-not-allowed":a.processing},"flex-1 relative group overflow-hidden rounded-xl bg-gradient-to-br from-neutral-400 to-neutral-600 hover:from-neutral-500 hover:to-neutral-700 text-white transition-all duration-300 shadow-sm hover:shadow-md"]),disabled:a.processing},[V,t("div",F,[t("span",z,d(a.str_gacha100),1),D,E])],10,P)):h("",!0)])])):h("",!0)}const K=m(y,[["render",I]]);export{K as G};

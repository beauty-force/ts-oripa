import{H as g,L as v,G as y,r as u,o as n,c as a,b as f,w,F as _,d as t,I as C,f as A,h,t as m,J as p,a1 as k,n as j}from"./app.299d5850.js";import{A as L}from"./UserLayout.ae1d5042.js";import{u as V}from"./useConfirm.eb23559a.js";import{_ as B}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as H}from"./PlayIcon.8c542cac.js";import"./index.753fad9f.js";const{confirm:F}=V(),O={components:{Head:g,AppLayout:L,Link:v,PlayIcon:H},props:{errors:Object,auth:Object,category_share:Object,products:Object,token:String,show_review:Boolean},data(){return{isCheckAll:!1}},setup(e){let o={},r;for(r=0;r<e.products.data.length;r++)o["id"+e.products.data[r].id]=!1;return{form:y({checks:o,token:e.token})}},methods:{format_number(e){return String(e).replace(/(.)(?=(\d{3})+$)/g,"$1,")},submit(){let e,o=0;var r=0;for(e=0;e<this.products.data.length;e++)this.form.checks["id"+this.products.data[e].id]&&(o++,r=r+parseInt(this.products.data[e].point));let i="";r>0?i="\u9078\u629E\u3057\u305F"+o+"\u70B9\u306E\u5546\u54C1\u3092"+r+"pt\u3068\u4EA4\u63DB\u3057\u307E\u3059\u3002":i="\u5168\u3066\u306E\u5546\u54C1\u304C\u300C\u7372\u5F97\u6E08\u307F\u5546\u54C1\u4E00\u89A7\u300D\u306B\u79FB\u52D5\u3057\u307E\u3059\u3002",F(i).then(l=>{l&&this.form.post(route("user.gacha.result.exchange"),{onFinish:()=>{}})})},checkall(){let e;for(e=0;e<this.products.data.length;e++)this.form.checks["id"+this.products.data[e].id]=this.isCheckAll},checkone(){this.isCheckAll=this.products.data.length>0,this.products.data.forEach(e=>{this.form.checks["id"+e.id]!=!0&&(this.isCheckAll=!1)})}}},S={class:"md:w-[760px] m-auto items-center px-6 h-full flex flex-col justify-center"},z=t("div",{class:"sticky top-20 z-20 w-full pt-4 pb-3 bg-white"},[t("h1",{class:"text-lg md:text-xl font-bold bg-gradient-to-r from-sky-500 to-sky-400 bg-clip-text text-transparent text-center"}," \u30AC\u30C1\u30E3 \u2013 \u7D50\u679C ")],-1),I={class:"mb-4 grid grid-cols-2 md:grid-cols-4 gap-3"},M={class:"relative group"},N=["for"],U={class:"transform transition-all duration-200 hover:scale-[1.02]"},D={class:"relative aspect-square mb-2"},E=["src"],P=["src","alt"],q={class:"absolute top-2 right-2"},G={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-sky-500 to-sky-600 text-white shadow-sm"},J={key:1,class:"absolute top-2 left-2"},R=["id","onUpdate:modelValue"],T={class:"px-1"},K={class:"text-neutral-800 font-medium truncate text-center text-sm"},Q={class:"text-neutral-500 text-xs truncate text-center mt-0.5"},W={key:0,class:"text-xs text-orange-500 text-center"},X={class:"sticky bottom-0 z-10 py-4 mt-6 bg-white"},Y={class:"text-center mb-3"},Z={class:"cursor-pointer flex items-center justify-center"},$=t("span",{class:"ml-2 text-sm font-medium text-neutral-700"},"\u5168\u3066\u3092\u9078\u629E\u3059\u308B",-1),tt={class:"text-center"},et=["disabled"],st=t("span",{class:"text-base"},"\u9078\u629E\u3057\u305F\u5546\u54C1\u3092\u30DD\u30A4\u30F3\u30C8\u306B\u5909\u63DB",-1),ot=t("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1),rt=[st,ot],it=t("div",{class:"pb-6 pt-3 text-center text-xs text-neutral-500"}," \u203B\u9078\u629E\u3055\u308C\u306A\u304B\u3063\u305F\u5546\u54C1\u306F\u300C\u7372\u5F97\u6E08\u307F \u5546\u54C1\u4E00\u89A7\u300D\u306B\u79FB\u52D5\u3055\u308C\u307E\u3059\u3002 ",-1);function nt(e,o,r,i,l,c){const x=u("Head"),b=u("AppLayout");return n(),a(_,null,[f(x,{title:"\u30AC\u30C1\u30E3\u2013\u7D50\u679C"}),f(b,{is_home:!0},{default:w(()=>[t("div",S,[z,t("form",{onSubmit:o[3]||(o[3]=C(s=>c.submit(),["prevent"]))},[t("div",I,[(n(!0),a(_,null,A(r.products.data,(s,at)=>(n(),a("div",M,[t("label",{for:"checkbox"+s.id,class:"block cursor-pointer"},[t("div",U,[t("div",D,[t("img",{class:"w-full h-full object-cover rounded-lg shadow-sm",src:s.image},null,8,E),s.badge?(n(),a("img",{key:0,src:s.badge,class:"absolute bottom-2 right-2 w-[25%]",alt:s.badge},null,8,P)):h("",!0),t("div",q,[t("div",G,m(c.format_number(s.point))+" PT ",1)]),s.status==1?(n(),a("div",J,[p(t("input",{id:"checkbox"+s.id,type:"checkbox","onUpdate:modelValue":d=>i.form.checks["id"+s.id]=d,onChange:o[0]||(o[0]=(...d)=>c.checkone&&c.checkone(...d)),class:"h-4 w-4 cursor-pointer rounded border-sky-400 text-sky-500 shadow-sm focus:ring-sky-500"},null,40,R),[[k,i.form.checks["id"+s.id]]])])):h("",!0)]),t("div",T,[t("div",K,m(s.name),1),t("div",Q,m(s.rare),1),s.status==3?(n(),a("div",W," \u767A\u9001\u4F9D\u983C\u6E08\u307F ")):h("",!0)])])],8,N)]))),256))]),t("div",X,[t("div",Y,[t("label",Z,[p(t("input",{type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=s=>l.isCheckAll=s),onChange:o[2]||(o[2]=s=>c.checkall()),class:"h-4 w-4 rounded border-neutral-300 text-sky-500 shadow-sm focus:ring-sky-500"},null,544),[[k,l.isCheckAll]]),$])]),t("div",tt,[t("button",{type:"submit",class:j([{"opacity-50":i.form.processing},"inline-flex items-center px-6 py-2.5 rounded-lg font-medium text-white bg-gradient-to-r from-sky-500 to-sky-600 hover:from-sky-600 hover:to-sky-700 transform hover:scale-105 transition-all duration-200 shadow-md hover:shadow-lg"]),disabled:i.form.processing},rt,10,et)])]),it],32)])]),_:1})],64)}const ft=B(O,[["render",nt]]);export{ft as default};
